

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>FACTS: Fairness Aware Counterfactual for Subgrouos package &mdash; HumanCompatible.Explain  documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=e59714d7" />

  
      <script src="_static/jquery.js?v=5d32c60e"></script>
      <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="_static/documentation_options.js?v=5929fcd5"></script>
      <script src="_static/doctools.js?v=9bcbadda"></script>
      <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="GLANCE: Global Actions in a Nutshell for Counterfactual Explainability" href="glance.html" />
    <link rel="prev" title="HumanCompatible.Explain Documentation" href="index.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            HumanCompatible.Explain
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">FACTS: Fairness Aware Counterfactual for Subgrouos package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#facts">FACTS</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#humancompatible.explain.facts.__init__.FACTS"><code class="docutils literal notranslate"><span class="pre">FACTS</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#humancompatible.explain.facts.__init__.FACTS.bias_scan"><code class="docutils literal notranslate"><span class="pre">FACTS.bias_scan()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#humancompatible.explain.facts.__init__.FACTS.fit"><code class="docutils literal notranslate"><span class="pre">FACTS.fit()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#humancompatible.explain.facts.__init__.FACTS.print_recourse_report"><code class="docutils literal notranslate"><span class="pre">FACTS.print_recourse_report()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#humancompatible.explain.facts.__init__.FACTS_bias_scan"><code class="docutils literal notranslate"><span class="pre">FACTS_bias_scan()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#humancompatible.explain.facts.__init__.print_recourse_report"><code class="docutils literal notranslate"><span class="pre">print_recourse_report()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#module-humancompatible.explain.facts.frequent_itemsets">Rule Mining &amp; Filtering</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#humancompatible.explain.facts.frequent_itemsets.fpgrowth_out_to_predicate_list"><code class="docutils literal notranslate"><span class="pre">fpgrowth_out_to_predicate_list()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#humancompatible.explain.facts.frequent_itemsets.preprocessDataset"><code class="docutils literal notranslate"><span class="pre">preprocessDataset()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#humancompatible.explain.facts.frequent_itemsets.run_fpgrowth"><code class="docutils literal notranslate"><span class="pre">run_fpgrowth()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#humancompatible.explain.facts.predicate.Predicate"><code class="docutils literal notranslate"><span class="pre">Predicate</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#humancompatible.explain.facts.predicate.Predicate.contains"><code class="docutils literal notranslate"><span class="pre">Predicate.contains()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#humancompatible.explain.facts.predicate.Predicate.features"><code class="docutils literal notranslate"><span class="pre">Predicate.features</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#humancompatible.explain.facts.predicate.Predicate.from_dict"><code class="docutils literal notranslate"><span class="pre">Predicate.from_dict()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#humancompatible.explain.facts.predicate.Predicate.satisfies"><code class="docutils literal notranslate"><span class="pre">Predicate.satisfies()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#humancompatible.explain.facts.predicate.Predicate.satisfies_v"><code class="docutils literal notranslate"><span class="pre">Predicate.satisfies_v()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#humancompatible.explain.facts.predicate.Predicate.to_dict"><code class="docutils literal notranslate"><span class="pre">Predicate.to_dict()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#humancompatible.explain.facts.predicate.Predicate.values"><code class="docutils literal notranslate"><span class="pre">Predicate.values</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#humancompatible.explain.facts.predicate.Predicate.width"><code class="docutils literal notranslate"><span class="pre">Predicate.width()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#humancompatible.explain.facts.predicate.drop_two_above"><code class="docutils literal notranslate"><span class="pre">drop_two_above()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#humancompatible.explain.facts.predicate.featureChangePred"><code class="docutils literal notranslate"><span class="pre">featureChangePred()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#humancompatible.explain.facts.predicate.recIsValid"><code class="docutils literal notranslate"><span class="pre">recIsValid()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#humancompatible.explain.facts.rule_filters.delete_fair_rules"><code class="docutils literal notranslate"><span class="pre">delete_fair_rules()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#humancompatible.explain.facts.rule_filters.filter_contained_rules_keep_max_bias"><code class="docutils literal notranslate"><span class="pre">filter_contained_rules_keep_max_bias()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#humancompatible.explain.facts.rule_filters.filter_contained_rules_simple"><code class="docutils literal notranslate"><span class="pre">filter_contained_rules_simple()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#humancompatible.explain.facts.rule_filters.keep_only_minimum_change"><code class="docutils literal notranslate"><span class="pre">keep_only_minimum_change()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#humancompatible.explain.facts.rule_filters.keep_rules_until_correctness_threshold_reached"><code class="docutils literal notranslate"><span class="pre">keep_rules_until_correctness_threshold_reached()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#humancompatible.explain.facts.rule_filters.remove_rules_above_cost_budget"><code class="docutils literal notranslate"><span class="pre">remove_rules_above_cost_budget()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#humancompatible.explain.facts.rule_filters.remove_rules_below_correctness_threshold"><code class="docutils literal notranslate"><span class="pre">remove_rules_below_correctness_threshold()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#module-humancompatible.explain.facts.metrics">Metrics</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#humancompatible.explain.facts.metrics.calculate_all_if_subgroup_costs"><code class="docutils literal notranslate"><span class="pre">calculate_all_if_subgroup_costs()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#humancompatible.explain.facts.metrics.calculate_if_subgroup_costs"><code class="docutils literal notranslate"><span class="pre">calculate_if_subgroup_costs()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#humancompatible.explain.facts.metrics.if_group_average_recourse_cost_conditional"><code class="docutils literal notranslate"><span class="pre">if_group_average_recourse_cost_conditional()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#humancompatible.explain.facts.metrics.if_group_cost_max_correctness_cost_budget"><code class="docutils literal notranslate"><span class="pre">if_group_cost_max_correctness_cost_budget()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#humancompatible.explain.facts.metrics.if_group_cost_min_change_correctness_threshold"><code class="docutils literal notranslate"><span class="pre">if_group_cost_min_change_correctness_threshold()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#humancompatible.explain.facts.metrics.if_group_cost_recoursescount_correctness_threshold"><code class="docutils literal notranslate"><span class="pre">if_group_cost_recoursescount_correctness_threshold()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#humancompatible.explain.facts.metrics.if_group_maximum_correctness"><code class="docutils literal notranslate"><span class="pre">if_group_maximum_correctness()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#humancompatible.explain.facts.metrics.incorrectRecoursesIfThen"><code class="docutils literal notranslate"><span class="pre">incorrectRecoursesIfThen()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#humancompatible.explain.facts.metrics.max_intergroup_cost_diff"><code class="docutils literal notranslate"><span class="pre">max_intergroup_cost_diff()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#module-humancompatible.explain.facts.optimization">Optimization &amp; Utilities</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#humancompatible.explain.facts.optimization.sort_triples_KStest"><code class="docutils literal notranslate"><span class="pre">sort_triples_KStest()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#humancompatible.explain.facts.optimization.sort_triples_by_max_costdiff"><code class="docutils literal notranslate"><span class="pre">sort_triples_by_max_costdiff()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#humancompatible.explain.facts.utils.load_model"><code class="docutils literal notranslate"><span class="pre">load_model()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#humancompatible.explain.facts.utils.load_object"><code class="docutils literal notranslate"><span class="pre">load_object()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#humancompatible.explain.facts.utils.load_rules_by_if"><code class="docutils literal notranslate"><span class="pre">load_rules_by_if()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#humancompatible.explain.facts.utils.load_state"><code class="docutils literal notranslate"><span class="pre">load_state()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#humancompatible.explain.facts.utils.load_test_data_used"><code class="docutils literal notranslate"><span class="pre">load_test_data_used()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#humancompatible.explain.facts.utils.save_model"><code class="docutils literal notranslate"><span class="pre">save_model()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#humancompatible.explain.facts.utils.save_object"><code class="docutils literal notranslate"><span class="pre">save_object()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#humancompatible.explain.facts.utils.save_rules_by_if"><code class="docutils literal notranslate"><span class="pre">save_rules_by_if()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#humancompatible.explain.facts.utils.save_state"><code class="docutils literal notranslate"><span class="pre">save_state()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#humancompatible.explain.facts.utils.save_test_data_used"><code class="docutils literal notranslate"><span class="pre">save_test_data_used()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#humancompatible.explain.facts.misc.aff_intersection_version_2"><code class="docutils literal notranslate"><span class="pre">aff_intersection_version_2()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#humancompatible.explain.facts.misc.affected_unaffected_split"><code class="docutils literal notranslate"><span class="pre">affected_unaffected_split()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#humancompatible.explain.facts.misc.calc_costs"><code class="docutils literal notranslate"><span class="pre">calc_costs()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#humancompatible.explain.facts.misc.calculate_correctnesses"><code class="docutils literal notranslate"><span class="pre">calculate_correctnesses()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#humancompatible.explain.facts.misc.cum_corr_costs"><code class="docutils literal notranslate"><span class="pre">cum_corr_costs()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#humancompatible.explain.facts.misc.cum_corr_costs_all"><code class="docutils literal notranslate"><span class="pre">cum_corr_costs_all()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#humancompatible.explain.facts.misc.cum_corr_costs_all_minimal"><code class="docutils literal notranslate"><span class="pre">cum_corr_costs_all_minimal()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#humancompatible.explain.facts.misc.freqitemsets_with_supports"><code class="docutils literal notranslate"><span class="pre">freqitemsets_with_supports()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#humancompatible.explain.facts.misc.rules2rulesbyif"><code class="docutils literal notranslate"><span class="pre">rules2rulesbyif()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#humancompatible.explain.facts.misc.rulesbyif2rules"><code class="docutils literal notranslate"><span class="pre">rulesbyif2rules()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#humancompatible.explain.facts.misc.select_rules_subset"><code class="docutils literal notranslate"><span class="pre">select_rules_subset()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#humancompatible.explain.facts.misc.select_rules_subset_KStest"><code class="docutils literal notranslate"><span class="pre">select_rules_subset_KStest()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#humancompatible.explain.facts.misc.valid_ifthens"><code class="docutils literal notranslate"><span class="pre">valid_ifthens()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#humancompatible.explain.facts.parameters.ParameterProxy"><code class="docutils literal notranslate"><span class="pre">ParameterProxy</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#humancompatible.explain.facts.parameters.ParameterProxy.featureChanges"><code class="docutils literal notranslate"><span class="pre">ParameterProxy.featureChanges</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#humancompatible.explain.facts.parameters.ParameterProxy.setFeatureChange"><code class="docutils literal notranslate"><span class="pre">ParameterProxy.setFeatureChange()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#humancompatible.explain.facts.parameters.default_change"><code class="docutils literal notranslate"><span class="pre">default_change()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#humancompatible.explain.facts.parameters.feature_change_builder"><code class="docutils literal notranslate"><span class="pre">feature_change_builder()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#humancompatible.explain.facts.parameters.make_default_featureChanges"><code class="docutils literal notranslate"><span class="pre">make_default_featureChanges()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#humancompatible.explain.facts.parameters.naive_feature_change_builder"><code class="docutils literal notranslate"><span class="pre">naive_feature_change_builder()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="glance.html">GLANCE: Global Actions in a Nutshell for Counterfactual Explainability</a></li>
<li class="toctree-l1"><a class="reference internal" href="fcx.html">FCX: Finding Feasible Counterfactual Explanation</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">HumanCompatible.Explain</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">FACTS: Fairness Aware Counterfactual for Subgrouos package</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/facts.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="facts-fairness-aware-counterfactual-for-subgrouos-package">
<h1>FACTS: Fairness Aware Counterfactual for Subgrouos package<a class="headerlink" href="#facts-fairness-aware-counterfactual-for-subgrouos-package" title="Link to this heading"></a></h1>
<nav class="contents local" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#facts" id="id12">FACTS</a></p></li>
<li><p><a class="reference internal" href="#module-humancompatible.explain.facts.frequent_itemsets" id="id13">Rule Mining &amp; Filtering</a></p></li>
<li><p><a class="reference internal" href="#module-humancompatible.explain.facts.metrics" id="id14">Metrics</a></p></li>
<li><p><a class="reference internal" href="#module-humancompatible.explain.facts.optimization" id="id15">Optimization &amp; Utilities</a></p></li>
</ul>
</nav>
<p>—</p>
<section id="facts">
<h2><a class="toc-backref" href="#id12" role="doc-backlink">FACTS</a><a class="headerlink" href="#facts" title="Link to this heading"></a></h2>
<p>These are the main entry points to using the FACTS framework.</p>
<dl class="py class" id="module-humancompatible.explain.facts.__init__">
<dt class="sig sig-object py" id="humancompatible.explain.facts.__init__.FACTS">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">humancompatible.explain.facts.__init__.</span></span><span class="sig-name descname"><span class="pre">FACTS</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">clf</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prot_attr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">categorical_features</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">freq_itemset_min_supp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">feature_weights</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">feats_allowed_to_change</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">feats_not_allowed_to_change</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/humancompatible/explain/facts/__init__.html#FACTS"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#humancompatible.explain.facts.__init__.FACTS" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">BaseEstimator</span></code></p>
<p>Fairness aware counterfactuals for subgroups (FACTS) detector.</p>
<p>FACTS is an efficient, model-agnostic, highly parameterizable, and
explainable framework for evaluating subgroup fairness through
counterfactual explanations <a href="#id16"><span class="problematic" id="id1">[#FACTS23]_</span></a>.</p>
<p>This class is a wrapper for the various methods exposed by the
FACTS framework.</p>
<p class="rubric">References</p>
<aside class="footnote-list brackets">
<aside class="footnote brackets" id="facts23" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span>1<span class="fn-bracket">]</span></span>
<p><a class="reference external" href="https://arxiv.org/abs/2306.14978">L. Kavouras, K. Tsopelas, G. Giannopoulos,
D. Sacharidis, E. Psaroudaki, N. Theologitis, D. Rontogiannis,
D. Fotakis, I. Emiris, “Fairness Aware Counterfactuals for
Subgroups”, arXiv preprint, 2023.</a></p>
</aside>
</aside>
<dl class="py method">
<dt class="sig sig-object py" id="humancompatible.explain.facts.__init__.FACTS.bias_scan">
<span class="sig-name descname"><span class="pre">bias_scan</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">metric</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'equal-effectiveness'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">viewpoint</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'macro'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sort_strategy</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'max-cost-diff-decr'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">top_count</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">10</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filter_sequence</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">phi</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">c</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.5</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/humancompatible/explain/facts/__init__.html#FACTS.bias_scan"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#humancompatible.explain.facts.__init__.FACTS.bias_scan" title="Link to this definition"></a></dt>
<dd><p>Examines generated subgroups and calculates the <cite>top_count</cite> most
unfair ones, with respect to the chosen metric.</p>
<p>Stores the final groups in instance variable <cite>self.top_rules</cite> and the
respective subgroup costs in <cite>self.subgroup_costs</cite> (or <cite>self.unfairness</cite>
for the “fair-tradeoff” metric).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>metric</strong> (<em>str</em><em>, </em><em>optional</em>) – <p>one of the following choices</p>
<ul>
<li><p>”equal-effectiveness”</p></li>
<li><p>”equal-choice-for-recourse”</p></li>
<li><p>”equal-effectiveness-within-budget”</p></li>
<li><p>”equal-cost-of-effectiveness”</p></li>
<li><p>”equal-mean-recourse”</p></li>
<li><p>”fair-tradeoff”</p></li>
</ul>
<p>Defaults to “equal-effectiveness”.</p>
<p>For explanation of each of those metrics, refer either to the
paper <a href="#id17"><span class="problematic" id="id2">[#FACTS23]_</span></a> or the demo_FACTS notebook.</p>
</p></li>
<li><p><strong>viewpoint</strong> (<em>str</em><em>, </em><em>optional</em>) – <p>“macro” or “micro”. Refers to the
notions of “macro viewpoint” and “micro viewpoint” defined
in section 2.2 of the paper <a href="#id18"><span class="problematic" id="id3">[#FACTS23]_</span></a>.</p>
<p>As a short explanation, consider a set of actions A and a
subgroup (cohort / set of individuals) G. Metrics with the
macro viewpoint interpretation are constrained to always apply
one action from A to the entire G, while metrics with the micro
interpretation are allowed to give each individual in G the
min-cost action from A which changes the individual’s class.</p>
<p>Note that not all combinations of <cite>metric</cite> and <cite>viewpoint</cite> are
valid, e.g. “Equal Choice for Recourse” only has a macro
interpretation.</p>
<p>Defaults to “macro”.</p>
</p></li>
<li><p><strong>sort_strategy</strong> (<em>str</em><em>, </em><em>optional</em>) – <p>one of the following choices</p>
<ul>
<li><p><cite>”max-cost-diff-decr”</cite>: simply rank the groups in descending                     order according to the unfairness metric.</p></li>
<li><p><cite>”max-cost-diff-decr-ignore-forall-subgroups-empty”</cite>: ignore                     groups for which we have no available actions whatsoever.</p></li>
<li><p><cite>”max-cost-diff-decr-ignore-exists-subgroup-empty”</cite>: ignore                     groups for which at least one protected subgroup has                     no available actions.</p></li>
</ul>
<p>Defaults to “max-cost-diff-decr”.</p>
</p></li>
<li><p><strong>top_count</strong> (<em>int</em><em>, </em><em>optional</em>) – the number of subpopulation groups that
the algorithm will keep.
Defaults to 10.</p></li>
<li><p><strong>filter_sequence</strong> (<em>List</em><em>[</em><em>str</em><em>]</em><em>, </em><em>optional</em>) – <p>List of various filters
applied on the groups and / or actions. Available filters are:</p>
<ul>
<li><p><cite>”remove-contained”</cite>: does not show groups which are subsumed                     by other shown groups. By “subsumed” we mean that the group                     is defined by extra feature values, but those values are                     not changed by any action.</p></li>
<li><p><cite>”remove-below-thr-corr”</cite>: does not show actions which are                     below the given effectiveness threshold. Refer also to the                     documentation of parameter <cite>phi</cite> below.</p></li>
<li><p><cite>”remove-above-thr-cost”</cite>: does not show action that cost more                     than the given cost budget. Refer also to the documentation                     of parameter <cite>c</cite> below.</p></li>
<li><p><cite>”keep-rules-until-thr-corr-reached”</cite>:</p></li>
<li><p><cite>”remove-fair-rules”</cite>: do not show groups which do not exhibit                     bias.</p></li>
<li><p><cite>”keep-only-min-change”</cite>: for each group shown, show only the                     suggested actions that have minimum cost, ignore the others.</p></li>
</ul>
<p>Defaults to [].</p>
</p></li>
<li><p><strong>phi</strong> (<em>float</em><em>, </em><em>optional</em>) – effectiveness threshold. Real number in [0, 1].
Applicable for “equal-choice-for-recourse” and
“equal-cost-of-effectiveness” metrics. For these two metrics, an
action is considered to achieve recourse for a subpopulation group
if at least <cite>phi</cite> % of the group’s individuals achieve recourse.
Defaults to 0.5.</p></li>
<li><p><strong>c</strong> (<em>float</em><em>, </em><em>optional</em>) – cost budget. Real number. Applicable for
“equal-effectiveness-within-budget” metric. Specifies the maximum
cost that can be payed for an action (by the individual, by a
central authority etc.)
Defaults to 0.5.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="humancompatible.explain.facts.__init__.FACTS.fit">
<span class="sig-name descname"><span class="pre">fit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">X</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/humancompatible/explain/facts/__init__.html#FACTS.fit"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#humancompatible.explain.facts.__init__.FACTS.fit" title="Link to this definition"></a></dt>
<dd><p>Calculates subpopulation groups, actions and respective effectiveness</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>X</strong> (<em>DataFrame</em>) – Dataset given as a <code class="xref py py-class docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code>. As in
standard scikit-learn convention, it is expected to contain one
instance per row and one feature / explanatory variable per
column (labels not needed, we already have an ML model).</p></li>
<li><p><strong>verbose</strong> (<em>bool</em>) – whether to print intermediate messages and progress bar. Defaults to True.</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>ValueError</strong> – <cite>feats_allowed_to_change</cite> and <cite>feats_not_allowed_to_change</cite>
    cannot be given simultaneously.</p></li>
<li><p><strong>Exception</strong> – when unreachable code is executed.</p></li>
</ul>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Returns self.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="#humancompatible.explain.facts.__init__.FACTS" title="humancompatible.explain.facts.__init__.FACTS">FACTS</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="humancompatible.explain.facts.__init__.FACTS.print_recourse_report">
<span class="sig-name descname"><span class="pre">print_recourse_report</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">population_sizes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">missing_subgroup_val</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'N/A'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_subgroup_costs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_action_costs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_cumulative_plots</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_bias</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_unbiased_subgroups</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">correctness_metric</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/humancompatible/explain/facts/__init__.html#FACTS.print_recourse_report"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#humancompatible.explain.facts.__init__.FACTS.print_recourse_report" title="Link to this definition"></a></dt>
<dd><p>Prints a nicely formatted report of the results (subpopulation groups
and recourses) discovered by the <cite>bias_scan</cite> method.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>population_sizes</strong> (<em>dict</em><em>(</em><em>str</em><em>, </em><em>int</em><em>)</em><em>, </em><em>optional</em>) – Number of individuals that
are given the negative prediction by the model, for each subgroup.
If given, it is included in the report together with some
coverage percentages.</p></li>
<li><p><strong>missing_subgroup_val</strong> (<em>str</em><em>, </em><em>optional</em>) – Optionally specify a value of the
protected attribute which denotes that it is missing and should not be
included in the printed results.
Defaults to “N/A”.</p></li>
<li><p><strong>show_subgroup_costs</strong> (<em>bool</em><em>, </em><em>optional</em>) – Whether to show the costs assigned
to each protected subgroup.
Defaults to False.</p></li>
<li><p><strong>show_action_costs</strong> (<em>bool</em><em>, </em><em>optional</em>) – Whether to show the costs assigned
to each specific action.
Defaults to False.</p></li>
<li><p><strong>show_cumulative_plots</strong> (<em>bool</em><em>, </em><em>optional</em>) – If true, shows, for each subgroup,
a graph of the <cite>effectiveness cumulative distribution</cite>, as it is
called in <a href="#id19"><span class="problematic" id="id4">[#FACTS23]_</span></a>.
Defaults to False.</p></li>
<li><p><strong>show_bias</strong> (<em>str</em><em>, </em><em>optional</em>) – Specify which value of the protected
attribute corresponds to the subgroup against which we want to find
unfairness. Mainly useful for when the protected attribute is not
binary (e.g. race).
Defaults to None.</p></li>
<li><p><strong>correctness_metric</strong> (<em>bool</em><em>, </em><em>optional</em>) – if True, the metric is considered
to quantify utility, i.e. the greater it is for a group, the
more beneficial it is for the individuals of the group.
Defaults to False.</p></li>
<li><p><strong>metric_name</strong> (<em>str</em><em>, </em><em>optional</em>) – If given, it is added to the the printed
message for unfairness in a subpopulation group, i.e. the method
prints “Bias against females due to &lt;metric_name&gt;”.</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>RuntimeError</strong> – if costs for groups and subgroups are empty. Most
    likely the <cite>bias_scan</cite> method was not run.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="humancompatible.explain.facts.__init__.FACTS_bias_scan">
<span class="sig-prename descclassname"><span class="pre">humancompatible.explain.facts.__init__.</span></span><span class="sig-name descname"><span class="pre">FACTS_bias_scan</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">X</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">clf</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">BaseEstimator</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prot_attr</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metric</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">categorical_features</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">freq_itemset_min_supp</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">feature_weights</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">feats_allowed_to_change</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">feats_not_allowed_to_change</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">viewpoint</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'macro'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sort_strategy</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'max-cost-diff-decr'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">top_count</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">phi</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">c</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">print_recourse_report</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_subgroup_costs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_action_costs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">is_correctness_metric</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/humancompatible/explain/facts/__init__.html#FACTS_bias_scan"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#humancompatible.explain.facts.__init__.FACTS_bias_scan" title="Link to this definition"></a></dt>
<dd><p>Identify the subgroups with the most difficulty achieving recourse.</p>
<p>FACTS is an efficient, model-agnostic, highly parameterizable, and
explainable framework for evaluating subgroup fairness through
counterfactual explanations <a href="#id20"><span class="problematic" id="id5">[#FACTS23]_</span></a>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This function is a wrapper to run the FACTS framework from start to
finish. Its purpose is to provide an API which is both closer to the
<cite>detectors</cite> API and more succinct.</p>
<p>For more options and greater control (including the option to cache
some intermediate results and then apply more than one metric fast),
consider using the <a class="reference internal" href="#humancompatible.explain.facts.__init__.FACTS" title="humancompatible.explain.facts.__init__.FACTS"><code class="xref py py-class docutils literal notranslate"><span class="pre">FACTS</span></code></a> class.</p>
</div>
<p class="rubric">References</p>
<aside class="footnote-list brackets">
<aside class="footnote brackets" id="id6" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span>2<span class="fn-bracket">]</span></span>
<p><a class="reference external" href="https://arxiv.org/abs/2306.14978">L. Kavouras, K. Tsopelas, G. Giannopoulos,
D. Sacharidis, E. Psaroudaki, N. Theologitis, D. Rontogiannis,
D. Fotakis, I. Emiris, “Fairness Aware Counterfactuals for
Subgroups”, arXiv preprint, 2023.</a></p>
</aside>
</aside>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>X</strong> (<em>DataFrame</em>) – Dataset given as a <code class="xref py py-class docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code>. As in
standard scikit-learn convention, it is expected to contain one
instance per row and one feature / explanatory variable per
column (labels not needed, we already have an ML model).</p></li>
<li><p><strong>clf</strong> (<em>sklearn.base.BaseEstimator</em>) – A trained and ready to use
classifier, implementing method <cite>predict(X)</cite>, where <cite>X</cite> is
the matrix of features; predictions returned by <cite>predict(X)</cite>
are either 0 or 1. In other words, fitted scikit-learn
classifiers.</p></li>
<li><p><strong>prot_attr</strong> (<em>str</em>) – the name of the column that represents the
protected attribute.</p></li>
<li><p><strong>metric</strong> (<em>str</em><em>, </em><em>optional</em>) – <p>one of the following choices</p>
<ul>
<li><p>”equal-effectiveness”</p></li>
<li><p>”equal-choice-for-recourse”</p></li>
<li><p>”equal-effectiveness-within-budget”</p></li>
<li><p>”equal-cost-of-effectiveness”</p></li>
<li><p>”equal-mean-recourse”</p></li>
<li><p>”fair-tradeoff”</p></li>
</ul>
<p>Defaults to “equal-effectiveness”.</p>
<p>For explanation of each of those metrics, refer either to the
paper <a href="#id21"><span class="problematic" id="id8">[#FACTS23]_</span></a> or the demo_FACTS notebook.</p>
</p></li>
<li><p><strong>categorical_features</strong> (<em>list</em><em>(</em><em>str</em><em>)</em><em>, </em><em>optional</em>) – the list of categorical
features. The default is to choose (dynamically, inside <cite>fit</cite>) the
columns of the dataset with types “object” or “category”.</p></li>
<li><p><strong>freq_itemset_min_supp</strong> (<em>float</em><em>, </em><em>optional</em>) – minimum support for all the runs
of the frequent itemset mining algorithm (specifically, <a class="reference external" href="https://en.wikipedia.org/wiki/Association_rule_learning#FP-growth_algorithm">FP Growth</a>).
We mine frequent itemsets to generate candidate subpopulation groups and candidate actions.
For more information, see paper <a href="#id22"><span class="problematic" id="id9">[#FACTS23]_</span></a>.
Defaults to 10%.</p></li>
<li><p><strong>feature_weights</strong> (<em>dict</em><em>(</em><em>str</em><em>, </em><em>float</em><em>)</em><em>, </em><em>optional</em>) – the weights for each feature. Used in the calculation
of the cost of a suggested change. Specifically, the term corresponding to each feature is
multiplied by this weight.
Defaults to 1, for all features.</p></li>
<li><p><strong>feats_allowed_to_change</strong> (<em>list</em><em>(</em><em>str</em><em>)</em><em>, </em><em>optional</em>) – if provided, only
allows these features to change value in the suggested recourses.
Default: no frozen features.
<em>Note</em>: providing both <cite>feats_allowed_to_change</cite> and
<cite>feats_not_allowed_to_change</cite> is currently treated as an error.</p></li>
<li><p><strong>feats_not_allowed_to_change</strong> (<em>list</em><em>(</em><em>str</em><em>)</em><em>, </em><em>optional</em>) – if provided,
prevents these features from changing at all in any given
recourse.
Default: no frozen features.
<em>Note</em>: providing both <cite>feats_allowed_to_change</cite> and
<cite>feats_not_allowed_to_change</cite> is currently treated as an error.</p></li>
<li><p><strong>viewpoint</strong> (<em>str</em><em>, </em><em>optional</em>) – <p>“macro” or “micro”. Refers to the
notions of “macro viewpoint” and “micro viewpoint” defined
in section 2.2 of the paper <a href="#id23"><span class="problematic" id="id10">[#FACTS23]_</span></a>.</p>
<p>As a short explanation, consider a set of actions A and a
subgroup (cohort / set of individuals) G. Metrics with the
macro viewpoint interpretation are constrained to always apply
one action from A to the entire G, while metrics with the micro
interpretation are allowed to give each individual in G the
min-cost action from A which changes the individual’s class.</p>
<p>Note that not all combinations of <cite>metric</cite> and <cite>viewpoint</cite> are
valid, e.g. “Equal Choice for Recourse” only has a macro
interpretation.</p>
<p>Defaults to “macro”.</p>
</p></li>
<li><p><strong>sort_strategy</strong> (<em>str</em><em>, </em><em>optional</em>) – <p>one of the following choices</p>
<ul>
<li><p><cite>”max-cost-diff-decr”</cite>: simply rank the groups in descending                 order according to the unfairness metric.</p></li>
<li><p><cite>”max-cost-diff-decr-ignore-forall-subgroups-empty”</cite>: ignore                 groups for which we have no available actions whatsoever.</p></li>
<li><p><cite>”max-cost-diff-decr-ignore-exists-subgroup-empty”</cite>: ignore                 groups for which at least one protected subgroup has                 no available actions.</p></li>
</ul>
<p>Defaults to “max-cost-diff-decr”.</p>
</p></li>
<li><p><strong>top_count</strong> (<em>int</em><em>, </em><em>optional</em>) – the number of subpopulation groups that
the algorithm will keep.
Defaults to 1, i.e. returns the most biased group.</p></li>
<li><p><strong>phi</strong> (<em>float</em><em>, </em><em>optional</em>) – effectiveness threshold. Real number in [0, 1].
Applicable for “equal-choice-for-recourse” and
“equal-cost-of-effectiveness” metrics. For these two metrics, an
action is considered to achieve recourse for a subpopulation group
if at least <cite>phi</cite> % of the group’s individuals achieve recourse.
Defaults to 0.5.</p></li>
<li><p><strong>c</strong> (<em>float</em><em>, </em><em>optional</em>) – cost budget. Real number. Applicable for
“equal-effectiveness-within-budget” metric. Specifies the maximum
cost that can be payed for an action (by the individual, by a
central authority etc.)
Defaults to 0.5.</p></li>
<li><p><strong>verbose</strong> (<em>bool</em><em>, </em><em>optional</em>) – whether to print intermediate messages and
progress bar. Defaults to True.</p></li>
<li><p><strong>print_recourse_report</strong> (<em>bool</em><em>, </em><em>optional</em>) – whether to print a detailed
and annotated report of the most biased groups to stdout. If False,
the most biased groups are only computed and returned.
Defaults to False.</p></li>
<li><p><strong>show_subgroup_costs</strong> (<em>bool</em><em>, </em><em>optional</em>) – Whether to show the costs assigned
to each protected subgroup.
Defaults to False.</p></li>
<li><p><strong>show_action_costs</strong> (<em>bool</em><em>, </em><em>optional</em>) – Whether to show the costs assigned
to each specific action.
Defaults to False.</p></li>
<li><p><strong>is_correctness_metric</strong> (<em>bool</em><em>, </em><em>optional</em>) – if True, the metric is considered
to quantify utility, i.e. the greater it is for a group, the
more beneficial it is for the individuals of the group.
Defaults to False.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>the most biased groups as a list             of pairs. In each pair, the first element is the group description             as a dict. The second element is the value of the chosen unfairness             metric for this group.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list(tuple(dict(str, str), float))</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="humancompatible.explain.facts.__init__.print_recourse_report">
<span class="sig-prename descclassname"><span class="pre">humancompatible.explain.facts.__init__.</span></span><span class="sig-name descname"><span class="pre">print_recourse_report</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rules</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#humancompatible.explain.facts.predicate.Predicate" title="humancompatible.explain.facts.predicate.Predicate"><span class="pre">Predicate</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#humancompatible.explain.facts.predicate.Predicate" title="humancompatible.explain.facts.predicate.Predicate"><span class="pre">Predicate</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">population_sizes</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">missing_subgroup_val</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'N/A'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">subgroup_costs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#humancompatible.explain.facts.predicate.Predicate" title="humancompatible.explain.facts.predicate.Predicate"><span class="pre">Predicate</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_subgroup_costs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_then_costs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_cumulative_plots</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_bias</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">correctness_metric</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metric_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/humancompatible/explain/facts/formatting.html#print_recourse_report"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#humancompatible.explain.facts.__init__.print_recourse_report" title="Link to this definition"></a></dt>
<dd><p>Prints a report detailing the recourses and fairness assessment for a given set of rules.
In our work, we generally refer to this representation as “Comparative Subgroup Counterfactuals”.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>rules</strong> (<em>Dict</em><em>[</em><a class="reference internal" href="#humancompatible.explain.facts.predicate.Predicate" title="humancompatible.explain.facts.predicate.Predicate"><em>Predicate</em></a><em>, </em><em>Dict</em><em>[</em><em>str</em><em>, </em><em>Tuple</em><em>[</em><em>float</em><em>, </em><em>List</em><em>[</em><em>Tuple</em><em>[</em><a class="reference internal" href="#humancompatible.explain.facts.predicate.Predicate" title="humancompatible.explain.facts.predicate.Predicate"><em>Predicate</em></a><em>, </em><em>float</em><em>, </em><em>float</em><em>]</em><em>]</em><em>]</em><em>]</em><em>]</em>) – The collection of rules with associated recourses, correctness, and costs.</p></li>
<li><p><strong>population_sizes</strong> (<em>Optional</em><em>[</em><em>Dict</em><em>[</em><em>str</em><em>, </em><em>int</em><em>]</em><em>]</em><em>, </em><em>optional</em>) – A dictionary specifying the population sizes for the protected and unprotected populations.
If provided, it is added to the coverage statistics included in the report.
Defaults to None.</p></li>
<li><p><strong>missing_subgroup_val</strong> (<em>str</em><em>, </em><em>optional</em>) – In the case of records with missing values for the protected attribute (e.g. sex), this parameter
determines whether the “group” of individuals with unknown protected attribute will be shown
in the report or not. In other words, the group with this name is excluded altogether from the report.
Defaults to “N/A”.</p></li>
<li><p><strong>subgroup_costs</strong> (<em>Optional</em><em>[</em><em>Dict</em><em>[</em><a class="reference internal" href="#humancompatible.explain.facts.predicate.Predicate" title="humancompatible.explain.facts.predicate.Predicate"><em>Predicate</em></a><em>, </em><em>Dict</em><em>[</em><em>str</em><em>, </em><em>float</em><em>]</em><em>]</em><em>]</em><em>, </em><em>optional</em>) – A dictionary specifying the aggregate costs for each subgroup in each rule.
If provided, the costs of recourses will be included in the report.
Defaults to None.</p></li>
<li><p><strong>show_subgroup_costs</strong> (<em>bool</em><em>, </em><em>optional</em>) – Indicates whether to display the subgroup costs in the report.
Only applicable when subgroup_costs is provided.
Defaults to False.</p></li>
<li><p><strong>show_then_costs</strong> (<em>bool</em><em>, </em><em>optional</em>) – Indicates whether to display the counterfactual costs of recourses in the report.
Defaults to False.</p></li>
<li><p><strong>show_cumulative_plots</strong> (<em>bool</em><em>, </em><em>optional</em>) – Indicates whether to display the cumulative effectiveness plots in the report.
Defaults to False.</p></li>
<li><p><strong>show_bias</strong> (<em>Optional</em><em>[</em><em>str</em><em>]</em><em>, </em><em>optional</em>) – Specifies the biased subgroup to highlight in the report.
Only applicable when subgroup_costs is provided.
Defaults to None.</p></li>
<li><p><strong>correctness_metric</strong> (<em>bool</em><em>, </em><em>optional</em>) – Indicates whether the metric to use for assessing bias is correctness or cost metric.
If False, it is a cost metric and the group with maximum value is the biased one.
If True, it is a correctness metric and the group with minimum value is the biased one.
Only applicable when subgroup_costs is provided.
Defaults to False.</p></li>
<li><p><strong>metric_name</strong> (<em>str</em><em>, </em><em>optional</em>) – The name of the fairness metric used to assess bias.
Only applicable when subgroup_costs is provided.
Defaults to “Equal Effectiveness”.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<p>—</p>
<p>—</p>
</section>
<section id="module-humancompatible.explain.facts.frequent_itemsets">
<span id="rule-mining-filtering"></span><h2><a class="toc-backref" href="#id13" role="doc-backlink">Rule Mining &amp; Filtering</a><a class="headerlink" href="#module-humancompatible.explain.facts.frequent_itemsets" title="Link to this heading"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="humancompatible.explain.facts.frequent_itemsets.fpgrowth_out_to_predicate_list">
<span class="sig-prename descclassname"><span class="pre">humancompatible.explain.facts.frequent_itemsets.</span></span><span class="sig-name descname"><span class="pre">fpgrowth_out_to_predicate_list</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fpgrowth_out</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#humancompatible.explain.facts.predicate.Predicate" title="humancompatible.explain.facts.predicate.Predicate"><span class="pre">Predicate</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/humancompatible/explain/facts/frequent_itemsets.html#fpgrowth_out_to_predicate_list"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#humancompatible.explain.facts.frequent_itemsets.fpgrowth_out_to_predicate_list" title="Link to this definition"></a></dt>
<dd><dl class="simple">
<dt>Converts the output of the FP Growth algorithm stored in a DataFrame to a</dt><dd><p>list of Predicate objects and their corresponding support values.</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>fpgrowth_out</strong> (<em>DataFrame</em>) – The DataFrame containing the output of the
FP Growth algorithm.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><dl class="simple">
<dt>A tuple containing the list of</dt><dd><p>Predicate objects and the list of corresponding support values.</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Tuple[List[<a class="reference internal" href="#humancompatible.explain.facts.predicate.Predicate" title="humancompatible.explain.facts.predicate.Predicate">Predicate</a>], List[float]]</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>None</strong> – </p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">freq_itemsets</span> <span class="o">=</span> <span class="n">run_fpgrowth</span><span class="p">(</span><span class="n">preprocessDataset</span><span class="p">(</span><span class="n">df</span><span class="p">),</span> <span class="n">min_support</span><span class="o">=</span><span class="mf">0.03</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">predicate_list</span> <span class="o">=</span> <span class="n">fpgrowth_out_to_predicate_list</span><span class="p">(</span><span class="n">freq_itemsets</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="humancompatible.explain.facts.frequent_itemsets.preprocessDataset">
<span class="sig-prename descclassname"><span class="pre">humancompatible.explain.facts.frequent_itemsets.</span></span><span class="sig-name descname"><span class="pre">preprocessDataset</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataFrame</span></span></span><a class="reference internal" href="_modules/humancompatible/explain/facts/frequent_itemsets.html#preprocessDataset"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#humancompatible.explain.facts.frequent_itemsets.preprocessDataset" title="Link to this definition"></a></dt>
<dd><dl class="simple">
<dt>Preprocesses the input DataFrame by converting categorical columns to</dt><dd><p>NumPy arrays and mapping each cell value with its column name.</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>data</strong> (<em>DataFrame</em>) – The input DataFrame to be preprocessed.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The preprocessed DataFrame.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>DataFrame</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>None</strong> – </p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="humancompatible.explain.facts.frequent_itemsets.run_fpgrowth">
<span class="sig-prename descclassname"><span class="pre">humancompatible.explain.facts.frequent_itemsets.</span></span><span class="sig-name descname"><span class="pre">run_fpgrowth</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_support</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.001</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataFrame</span></span></span><a class="reference internal" href="_modules/humancompatible/explain/facts/frequent_itemsets.html#run_fpgrowth"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#humancompatible.explain.facts.frequent_itemsets.run_fpgrowth" title="Link to this definition"></a></dt>
<dd><dl class="simple">
<dt>Runs the FP Growth algorithm on the input DataFrame to find frequent</dt><dd><p>itemsets.</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>DataFrame</em>) – The input DataFrame.</p></li>
<li><p><strong>min_support</strong> (<em>float</em><em>, </em><em>optional</em>) – The minimum support threshold for
itemsets. Defaults to 0.001, i.e 0.1%.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><dl class="simple">
<dt>The DataFrame containing frequent itemsets sorted by</dt><dd><p>support in descending order.</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>DataFrame</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>None</strong> – </p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">freq_itemsets</span> <span class="o">=</span> <span class="n">runFPGrowth</span><span class="p">(</span><span class="n">preprocessDataset</span><span class="p">(</span><span class="n">df</span><span class="p">),</span> <span class="n">min_support</span><span class="o">=</span><span class="mf">0.03</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py class" id="module-humancompatible.explain.facts.predicate">
<dt class="sig sig-object py" id="humancompatible.explain.facts.predicate.Predicate">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">humancompatible.explain.facts.predicate.</span></span><span class="sig-name descname"><span class="pre">Predicate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">features:</span> <span class="pre">~typing.List[str]</span> <span class="pre">=</span> <span class="pre">&lt;factory&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">values:</span> <span class="pre">~typing.List[~typing.Any]</span> <span class="pre">=</span> <span class="pre">&lt;factory&gt;</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/humancompatible/explain/facts/predicate.html#Predicate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#humancompatible.explain.facts.predicate.Predicate" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Represents a predicate with features and values.</p>
<dl class="py method">
<dt class="sig sig-object py" id="humancompatible.explain.facts.predicate.Predicate.contains">
<span class="sig-name descname"><span class="pre">contains</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">other</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">object</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="reference internal" href="_modules/humancompatible/explain/facts/predicate.html#Predicate.contains"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#humancompatible.explain.facts.predicate.Predicate.contains" title="Link to this definition"></a></dt>
<dd><p>Checks if the predicate contains another predicate.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>other</strong> – The predicate to check for containment.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>True if the predicate contains the other predicate, False otherwise.</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="humancompatible.explain.facts.predicate.Predicate.features">
<span class="sig-name descname"><span class="pre">features</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#humancompatible.explain.facts.predicate.Predicate.features" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="humancompatible.explain.facts.predicate.Predicate.from_dict">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_dict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">d</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#humancompatible.explain.facts.predicate.Predicate" title="humancompatible.explain.facts.predicate.Predicate"><span class="pre">Predicate</span></a></span></span><a class="reference internal" href="_modules/humancompatible/explain/facts/predicate.html#Predicate.from_dict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#humancompatible.explain.facts.predicate.Predicate.from_dict" title="Link to this definition"></a></dt>
<dd><p>Creates a Predicate instance from a dictionary.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>d</strong> – A dictionary representing the predicate.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A Predicate instance.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="humancompatible.explain.facts.predicate.Predicate.satisfies">
<span class="sig-name descname"><span class="pre">satisfies</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Mapping</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="reference internal" href="_modules/humancompatible/explain/facts/predicate.html#Predicate.satisfies"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#humancompatible.explain.facts.predicate.Predicate.satisfies" title="Link to this definition"></a></dt>
<dd><p>Checks if the predicate is satisfied by a given input.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>x</strong> – The input to be checked against the predicate.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>True if the predicate is satisfied, False otherwise.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="humancompatible.explain.facts.predicate.Predicate.satisfies_v">
<span class="sig-name descname"><span class="pre">satisfies_v</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">X</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Series</span></span></span><a class="reference internal" href="_modules/humancompatible/explain/facts/predicate.html#Predicate.satisfies_v"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#humancompatible.explain.facts.predicate.Predicate.satisfies_v" title="Link to this definition"></a></dt>
<dd><p>Vectorized version of the <cite>satisfies</cite> method.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>X</strong> (<em>DataFrame</em>) – a dataframe of instances (rows)</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>boolean Series with value <cite>True</cite> if an instance satisfies the predicate and <cite>False</cite> otherwise</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pd.Series</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="humancompatible.explain.facts.predicate.Predicate.to_dict">
<span class="sig-name descname"><span class="pre">to_dict</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/humancompatible/explain/facts/predicate.html#Predicate.to_dict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#humancompatible.explain.facts.predicate.Predicate.to_dict" title="Link to this definition"></a></dt>
<dd><p>Converts the predicate to a dictionary representation.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A dictionary representing the predicate.</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="humancompatible.explain.facts.predicate.Predicate.values">
<span class="sig-name descname"><span class="pre">values</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#humancompatible.explain.facts.predicate.Predicate.values" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="humancompatible.explain.facts.predicate.Predicate.width">
<span class="sig-name descname"><span class="pre">width</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/humancompatible/explain/facts/predicate.html#Predicate.width"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#humancompatible.explain.facts.predicate.Predicate.width" title="Link to this definition"></a></dt>
<dd><p>Returns the number of features in the predicate.</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="humancompatible.explain.facts.predicate.drop_two_above">
<span class="sig-prename descclassname"><span class="pre">humancompatible.explain.facts.predicate.</span></span><span class="sig-name descname"><span class="pre">drop_two_above</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">p1</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#humancompatible.explain.facts.predicate.Predicate" title="humancompatible.explain.facts.predicate.Predicate"><span class="pre">Predicate</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">p2</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#humancompatible.explain.facts.predicate.Predicate" title="humancompatible.explain.facts.predicate.Predicate"><span class="pre">Predicate</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">l</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="reference internal" href="_modules/humancompatible/explain/facts/predicate.html#drop_two_above"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#humancompatible.explain.facts.predicate.drop_two_above" title="Link to this definition"></a></dt>
<dd><p>Checks if the values of the given predicates are within a difference of two based on the provided conditions.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>p1</strong> – The first Predicate.</p></li>
<li><p><strong>p2</strong> – The second Predicate.</p></li>
<li><p><strong>l</strong> – The list of values for comparison.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>True if the values are within a difference of two, False otherwise.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="humancompatible.explain.facts.predicate.featureChangePred">
<span class="sig-prename descclassname"><span class="pre">humancompatible.explain.facts.predicate.</span></span><span class="sig-name descname"><span class="pre">featureChangePred</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">p1:</span> <span class="pre">~humancompatible.explain.facts.predicate.Predicate</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">p2:</span> <span class="pre">~humancompatible.explain.facts.predicate.Predicate</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">params:</span> <span class="pre">~humancompatible.explain.facts.parameters.ParameterProxy</span> <span class="pre">=</span> <span class="pre">ParameterProxy(featureChanges=defaultdict(&lt;function</span> <span class="pre">make_default_featureChanges.&lt;locals&gt;.&lt;lambda&gt;&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">{}))</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/humancompatible/explain/facts/predicate.html#featureChangePred"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#humancompatible.explain.facts.predicate.featureChangePred" title="Link to this definition"></a></dt>
<dd><p>Calculates the feature change between two predicates.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>p1</strong> – The first Predicate.</p></li>
<li><p><strong>p2</strong> – The second Predicate.</p></li>
<li><p><strong>params</strong> – The ParameterProxy object containing feature change functions.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The feature change between the two predicates.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="humancompatible.explain.facts.predicate.recIsValid">
<span class="sig-prename descclassname"><span class="pre">humancompatible.explain.facts.predicate.</span></span><span class="sig-name descname"><span class="pre">recIsValid</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">p1</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#humancompatible.explain.facts.predicate.Predicate" title="humancompatible.explain.facts.predicate.Predicate"><span class="pre">Predicate</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">p2</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#humancompatible.explain.facts.predicate.Predicate" title="humancompatible.explain.facts.predicate.Predicate"><span class="pre">Predicate</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">X</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">drop_infeasible</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">feats_not_allowed_to_change</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">[]</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="reference internal" href="_modules/humancompatible/explain/facts/predicate.html#recIsValid"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#humancompatible.explain.facts.predicate.recIsValid" title="Link to this definition"></a></dt>
<dd><p>Checks if the given pair of predicates is valid based on the provided conditions.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>p1</strong> – The first Predicate.</p></li>
<li><p><strong>p2</strong> – The second Predicate.</p></li>
<li><p><strong>X</strong> – The DataFrame containing the data.</p></li>
<li><p><strong>drop_infeasible</strong> – Flag indicating whether to drop infeasible cases.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>True if the pair of predicates is valid, False otherwise.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function" id="module-humancompatible.explain.facts.rule_filters">
<dt class="sig sig-object py" id="humancompatible.explain.facts.rule_filters.delete_fair_rules">
<span class="sig-prename descclassname"><span class="pre">humancompatible.explain.facts.rule_filters.</span></span><span class="sig-name descname"><span class="pre">delete_fair_rules</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rulesbyif</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#humancompatible.explain.facts.predicate.Predicate" title="humancompatible.explain.facts.predicate.Predicate"><span class="pre">Predicate</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#humancompatible.explain.facts.predicate.Predicate" title="humancompatible.explain.facts.predicate.Predicate"><span class="pre">Predicate</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">subgroup_costs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#humancompatible.explain.facts.predicate.Predicate" title="humancompatible.explain.facts.predicate.Predicate"><span class="pre">Predicate</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#humancompatible.explain.facts.predicate.Predicate" title="humancompatible.explain.facts.predicate.Predicate"><span class="pre">Predicate</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#humancompatible.explain.facts.predicate.Predicate" title="humancompatible.explain.facts.predicate.Predicate"><span class="pre">Predicate</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/humancompatible/explain/facts/rule_filters.html#delete_fair_rules"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#humancompatible.explain.facts.rule_filters.delete_fair_rules" title="Link to this definition"></a></dt>
<dd><p>Deletes fair rules from the given set of rules based on subgroup costs.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>rulesbyif</strong> (<em>Dict</em><em>[</em><a class="reference internal" href="#humancompatible.explain.facts.predicate.Predicate" title="humancompatible.explain.facts.predicate.Predicate"><em>Predicate</em></a><em>, </em><em>Dict</em><em>[</em><em>str</em><em>, </em><em>Tuple</em><em>[</em><em>float</em><em>, </em><em>List</em><em>[</em><em>Tuple</em><em>[</em><a class="reference internal" href="#humancompatible.explain.facts.predicate.Predicate" title="humancompatible.explain.facts.predicate.Predicate"><em>Predicate</em></a><em>, </em><em>float</em><em>]</em><em>]</em><em>]</em><em>]</em><em>]</em>) – Dictionary mapping predicates to a dictionary of group IDs and associated cost and correctness tuples.</p></li>
<li><p><strong>subgroup_costs</strong> (<em>Dict</em><em>[</em><a class="reference internal" href="#humancompatible.explain.facts.predicate.Predicate" title="humancompatible.explain.facts.predicate.Predicate"><em>Predicate</em></a><em>, </em><em>Dict</em><em>[</em><em>str</em><em>, </em><em>float</em><em>]</em><em>]</em>) – Dictionary mapping predicates to a dictionary of group IDs and their corresponding subgroup costs.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Dictionary containing the remaining rules after deleting the fair rules.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Dict[<a class="reference internal" href="#humancompatible.explain.facts.predicate.Predicate" title="humancompatible.explain.facts.predicate.Predicate">Predicate</a>, Dict[str, Tuple[float, List[Tuple[<a class="reference internal" href="#humancompatible.explain.facts.predicate.Predicate" title="humancompatible.explain.facts.predicate.Predicate">Predicate</a>, float]]]]]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="humancompatible.explain.facts.rule_filters.filter_contained_rules_keep_max_bias">
<span class="sig-prename descclassname"><span class="pre">humancompatible.explain.facts.rule_filters.</span></span><span class="sig-name descname"><span class="pre">filter_contained_rules_keep_max_bias</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rulesbyif</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#humancompatible.explain.facts.predicate.Predicate" title="humancompatible.explain.facts.predicate.Predicate"><span class="pre">Predicate</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#humancompatible.explain.facts.predicate.Predicate" title="humancompatible.explain.facts.predicate.Predicate"><span class="pre">Predicate</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">subgroup_costs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#humancompatible.explain.facts.predicate.Predicate" title="humancompatible.explain.facts.predicate.Predicate"><span class="pre">Predicate</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#humancompatible.explain.facts.predicate.Predicate" title="humancompatible.explain.facts.predicate.Predicate"><span class="pre">Predicate</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#humancompatible.explain.facts.predicate.Predicate" title="humancompatible.explain.facts.predicate.Predicate"><span class="pre">Predicate</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/humancompatible/explain/facts/rule_filters.html#filter_contained_rules_keep_max_bias"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#humancompatible.explain.facts.rule_filters.filter_contained_rules_keep_max_bias" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="humancompatible.explain.facts.rule_filters.filter_contained_rules_simple">
<span class="sig-prename descclassname"><span class="pre">humancompatible.explain.facts.rule_filters.</span></span><span class="sig-name descname"><span class="pre">filter_contained_rules_simple</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rulesbyif</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#humancompatible.explain.facts.predicate.Predicate" title="humancompatible.explain.facts.predicate.Predicate"><span class="pre">Predicate</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#humancompatible.explain.facts.predicate.Predicate" title="humancompatible.explain.facts.predicate.Predicate"><span class="pre">Predicate</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#humancompatible.explain.facts.predicate.Predicate" title="humancompatible.explain.facts.predicate.Predicate"><span class="pre">Predicate</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#humancompatible.explain.facts.predicate.Predicate" title="humancompatible.explain.facts.predicate.Predicate"><span class="pre">Predicate</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/humancompatible/explain/facts/rule_filters.html#filter_contained_rules_simple"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#humancompatible.explain.facts.rule_filters.filter_contained_rules_simple" title="Link to this definition"></a></dt>
<dd><p>Filters the rules to remove the contained rules based on simple containment criteria.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>rulesbyif</strong> (<em>Dict</em><em>[</em><a class="reference internal" href="#humancompatible.explain.facts.predicate.Predicate" title="humancompatible.explain.facts.predicate.Predicate"><em>Predicate</em></a><em>, </em><em>Dict</em><em>[</em><em>str</em><em>, </em><em>Tuple</em><em>[</em><em>float</em><em>, </em><em>List</em><em>[</em><em>Tuple</em><em>[</em><a class="reference internal" href="#humancompatible.explain.facts.predicate.Predicate" title="humancompatible.explain.facts.predicate.Predicate"><em>Predicate</em></a><em>, </em><em>float</em><em>]</em><em>]</em><em>]</em><em>]</em><em>]</em>) – Dictionary mapping predicates to a dictionary of group IDs and associated cost and correctness tuples.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Filtered rules after removing the contained rules based on simple containment criteria.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Dict[<a class="reference internal" href="#humancompatible.explain.facts.predicate.Predicate" title="humancompatible.explain.facts.predicate.Predicate">Predicate</a>, Dict[str, Tuple[float, List[Tuple[<a class="reference internal" href="#humancompatible.explain.facts.predicate.Predicate" title="humancompatible.explain.facts.predicate.Predicate">Predicate</a>, float]]]]]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="humancompatible.explain.facts.rule_filters.keep_only_minimum_change">
<span class="sig-prename descclassname"><span class="pre">humancompatible.explain.facts.rule_filters.</span></span><span class="sig-name descname"><span class="pre">keep_only_minimum_change</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rulesbyif</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#humancompatible.explain.facts.predicate.Predicate" title="humancompatible.explain.facts.predicate.Predicate"><span class="pre">Predicate</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#humancompatible.explain.facts.predicate.Predicate" title="humancompatible.explain.facts.predicate.Predicate"><span class="pre">Predicate</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#humancompatible.explain.facts.predicate.Predicate" title="humancompatible.explain.facts.predicate.Predicate"><span class="pre">Predicate</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#humancompatible.explain.facts.predicate.Predicate" title="humancompatible.explain.facts.predicate.Predicate"><span class="pre">Predicate</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/humancompatible/explain/facts/rule_filters.html#keep_only_minimum_change"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#humancompatible.explain.facts.rule_filters.keep_only_minimum_change" title="Link to this definition"></a></dt>
<dd><p>Filters rules based on minimum change.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>rulesbyif</strong> (<em>Dict</em><em>[</em><a class="reference internal" href="#humancompatible.explain.facts.predicate.Predicate" title="humancompatible.explain.facts.predicate.Predicate"><em>Predicate</em></a><em>, </em><em>Dict</em><em>[</em><em>str</em><em>, </em><em>Tuple</em><em>[</em><em>float</em><em>, </em><em>List</em><em>[</em><em>Tuple</em><em>[</em><a class="reference internal" href="#humancompatible.explain.facts.predicate.Predicate" title="humancompatible.explain.facts.predicate.Predicate"><em>Predicate</em></a><em>, </em><em>float</em><em>]</em><em>]</em><em>]</em><em>]</em><em>]</em>) – Dictionary mapping predicates to a dictionary of group IDs and associated cost and correctness tuples.</p></li>
<li><p><strong>params</strong> (<a class="reference internal" href="#humancompatible.explain.facts.parameters.ParameterProxy" title="humancompatible.explain.facts.parameters.ParameterProxy"><em>ParameterProxy</em></a><em>, </em><em>optional</em>) – Parameter proxy object containing parameter values for calculating the feature change. Defaults to ParameterProxy().</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Dictionary containing the filtered rules based on the minimum change criterion.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Dict[<a class="reference internal" href="#humancompatible.explain.facts.predicate.Predicate" title="humancompatible.explain.facts.predicate.Predicate">Predicate</a>, Dict[str, Tuple[float, List[Tuple[<a class="reference internal" href="#humancompatible.explain.facts.predicate.Predicate" title="humancompatible.explain.facts.predicate.Predicate">Predicate</a>, float]]]]]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="humancompatible.explain.facts.rule_filters.keep_rules_until_correctness_threshold_reached">
<span class="sig-prename descclassname"><span class="pre">humancompatible.explain.facts.rule_filters.</span></span><span class="sig-name descname"><span class="pre">keep_rules_until_correctness_threshold_reached</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rulesbyif</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#humancompatible.explain.facts.predicate.Predicate" title="humancompatible.explain.facts.predicate.Predicate"><span class="pre">Predicate</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#humancompatible.explain.facts.predicate.Predicate" title="humancompatible.explain.facts.predicate.Predicate"><span class="pre">Predicate</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">threshold</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.5</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#humancompatible.explain.facts.predicate.Predicate" title="humancompatible.explain.facts.predicate.Predicate"><span class="pre">Predicate</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#humancompatible.explain.facts.predicate.Predicate" title="humancompatible.explain.facts.predicate.Predicate"><span class="pre">Predicate</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/humancompatible/explain/facts/rule_filters.html#keep_rules_until_correctness_threshold_reached"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#humancompatible.explain.facts.rule_filters.keep_rules_until_correctness_threshold_reached" title="Link to this definition"></a></dt>
<dd><p>Filters rules based on cumulative correctness threshold.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>rulesbyif</strong> (<em>Dict</em><em>[ </em><a class="reference internal" href="#humancompatible.explain.facts.predicate.Predicate" title="humancompatible.explain.facts.predicate.Predicate"><em>Predicate</em></a><em>, </em><em>Dict</em><em>[</em><em>str</em><em>, </em><em>Tuple</em><em>[</em><em>float</em><em>, </em><em>List</em><em>[</em><em>Tuple</em><em>[</em><a class="reference internal" href="#humancompatible.explain.facts.predicate.Predicate" title="humancompatible.explain.facts.predicate.Predicate"><em>Predicate</em></a><em>, </em><em>float</em><em>, </em><em>float</em><em>]</em><em>]</em><em>]</em><em>] </em><em>]</em>) – Dictionary mapping predicates to a dictionary of group IDs and associated cost, correctness, and cumulative cost tuples.</p></li>
<li><p><strong>threshold</strong> (<em>float</em><em>, </em><em>optional</em>) – Threshold value for the cumulative correctness. Rules with a cumulative correctness value greater than the threshold are kept. Defaults to 0.5.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Dictionary containing the filtered rules based on the cumulative correctness threshold.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Dict[<a class="reference internal" href="#humancompatible.explain.facts.predicate.Predicate" title="humancompatible.explain.facts.predicate.Predicate">Predicate</a>, Dict[str, Tuple[float, List[Tuple[<a class="reference internal" href="#humancompatible.explain.facts.predicate.Predicate" title="humancompatible.explain.facts.predicate.Predicate">Predicate</a>, float, float]]]]]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="humancompatible.explain.facts.rule_filters.remove_rules_above_cost_budget">
<span class="sig-prename descclassname"><span class="pre">humancompatible.explain.facts.rule_filters.</span></span><span class="sig-name descname"><span class="pre">remove_rules_above_cost_budget</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rulesbyif</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#humancompatible.explain.facts.predicate.Predicate" title="humancompatible.explain.facts.predicate.Predicate"><span class="pre">Predicate</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#humancompatible.explain.facts.predicate.Predicate" title="humancompatible.explain.facts.predicate.Predicate"><span class="pre">Predicate</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">threshold</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.5</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#humancompatible.explain.facts.predicate.Predicate" title="humancompatible.explain.facts.predicate.Predicate"><span class="pre">Predicate</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#humancompatible.explain.facts.predicate.Predicate" title="humancompatible.explain.facts.predicate.Predicate"><span class="pre">Predicate</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/humancompatible/explain/facts/rule_filters.html#remove_rules_above_cost_budget"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#humancompatible.explain.facts.rule_filters.remove_rules_above_cost_budget" title="Link to this definition"></a></dt>
<dd><p>Filters rules based on cumulative cost threshold.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>rulesbyif</strong> (<em>Dict</em><em>[ </em><a class="reference internal" href="#humancompatible.explain.facts.predicate.Predicate" title="humancompatible.explain.facts.predicate.Predicate"><em>Predicate</em></a><em>, </em><em>Dict</em><em>[</em><em>str</em><em>, </em><em>Tuple</em><em>[</em><em>float</em><em>, </em><em>List</em><em>[</em><em>Tuple</em><em>[</em><a class="reference internal" href="#humancompatible.explain.facts.predicate.Predicate" title="humancompatible.explain.facts.predicate.Predicate"><em>Predicate</em></a><em>, </em><em>float</em><em>, </em><em>float</em><em>]</em><em>]</em><em>]</em><em>] </em><em>]</em>) – Dictionary mapping predicates to a dictionary of group IDs and associated cost, correctness, and cumulative cost tuples.</p></li>
<li><p><strong>threshold</strong> (<em>float</em><em>, </em><em>optional</em>) – Threshold value for the cumulative cost. Rules with a cumulative cost value less than or equal to the threshold are kept.
Defaults to 0.5.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Dictionary containing the filtered rules based on the cumulative cost threshold.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Dict[<a class="reference internal" href="#humancompatible.explain.facts.predicate.Predicate" title="humancompatible.explain.facts.predicate.Predicate">Predicate</a>, Dict[str, Tuple[float, List[Tuple[<a class="reference internal" href="#humancompatible.explain.facts.predicate.Predicate" title="humancompatible.explain.facts.predicate.Predicate">Predicate</a>, float, float]]]]]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="humancompatible.explain.facts.rule_filters.remove_rules_below_correctness_threshold">
<span class="sig-prename descclassname"><span class="pre">humancompatible.explain.facts.rule_filters.</span></span><span class="sig-name descname"><span class="pre">remove_rules_below_correctness_threshold</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rulesbyif</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#humancompatible.explain.facts.predicate.Predicate" title="humancompatible.explain.facts.predicate.Predicate"><span class="pre">Predicate</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#humancompatible.explain.facts.predicate.Predicate" title="humancompatible.explain.facts.predicate.Predicate"><span class="pre">Predicate</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">threshold</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.5</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#humancompatible.explain.facts.predicate.Predicate" title="humancompatible.explain.facts.predicate.Predicate"><span class="pre">Predicate</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#humancompatible.explain.facts.predicate.Predicate" title="humancompatible.explain.facts.predicate.Predicate"><span class="pre">Predicate</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/humancompatible/explain/facts/rule_filters.html#remove_rules_below_correctness_threshold"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#humancompatible.explain.facts.rule_filters.remove_rules_below_correctness_threshold" title="Link to this definition"></a></dt>
<dd><p>Filters the rules by correctness threshold.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>rulesbyif</strong> (<em>Dict</em><em>[</em><a class="reference internal" href="#humancompatible.explain.facts.predicate.Predicate" title="humancompatible.explain.facts.predicate.Predicate"><em>Predicate</em></a><em>, </em><em>Dict</em><em>[</em><em>str</em><em>, </em><em>Tuple</em><em>[</em><em>float</em><em>, </em><em>List</em><em>[</em><em>Tuple</em><em>[</em><a class="reference internal" href="#humancompatible.explain.facts.predicate.Predicate" title="humancompatible.explain.facts.predicate.Predicate"><em>Predicate</em></a><em>, </em><em>float</em><em>]</em><em>]</em><em>]</em><em>]</em><em>]</em>) – Dictionary mapping predicates to a dictionary of group IDs and associated cost and correctness tuples.</p></li>
<li><p><strong>threshold</strong> (<em>float</em><em>, </em><em>optional</em>) – The threshold value for filtering the rules based on correctness. Defaults to 0.5.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Filtered rules based on the correctness threshold.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Dict[<a class="reference internal" href="#humancompatible.explain.facts.predicate.Predicate" title="humancompatible.explain.facts.predicate.Predicate">Predicate</a>, Dict[str, Tuple[float, List[Tuple[<a class="reference internal" href="#humancompatible.explain.facts.predicate.Predicate" title="humancompatible.explain.facts.predicate.Predicate">Predicate</a>, float]]]]]</p>
</dd>
</dl>
</dd></dl>

<p>—</p>
</section>
<section id="module-humancompatible.explain.facts.metrics">
<span id="metrics"></span><h2><a class="toc-backref" href="#id14" role="doc-backlink">Metrics</a><a class="headerlink" href="#module-humancompatible.explain.facts.metrics" title="Link to this heading"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="humancompatible.explain.facts.metrics.calculate_all_if_subgroup_costs">
<span class="sig-prename descclassname"><span class="pre">humancompatible.explain.facts.metrics.</span></span><span class="sig-name descname"><span class="pre">calculate_all_if_subgroup_costs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ifclauses</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#humancompatible.explain.facts.predicate.Predicate" title="humancompatible.explain.facts.predicate.Predicate"><span class="pre">Predicate</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">all_thenclauses</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#humancompatible.explain.facts.predicate.Predicate" title="humancompatible.explain.facts.predicate.Predicate"><span class="pre">Predicate</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">group_calculator</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Callable</span><span class="p"><span class="pre">[</span></span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#humancompatible.explain.facts.predicate.Predicate" title="humancompatible.explain.facts.predicate.Predicate"><span class="pre">Predicate</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#humancompatible.explain.facts.predicate.Predicate" title="humancompatible.explain.facts.predicate.Predicate"><span class="pre">Predicate</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#humancompatible.explain.facts.predicate.Predicate" title="humancompatible.explain.facts.predicate.Predicate"><span class="pre">Predicate</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/humancompatible/explain/facts/metrics.html#calculate_all_if_subgroup_costs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#humancompatible.explain.facts.metrics.calculate_all_if_subgroup_costs" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="humancompatible.explain.facts.metrics.calculate_if_subgroup_costs">
<span class="sig-prename descclassname"><span class="pre">humancompatible.explain.facts.metrics.</span></span><span class="sig-name descname"><span class="pre">calculate_if_subgroup_costs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ifclause</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#humancompatible.explain.facts.predicate.Predicate" title="humancompatible.explain.facts.predicate.Predicate"><span class="pre">Predicate</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">thenclauses</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#humancompatible.explain.facts.predicate.Predicate" title="humancompatible.explain.facts.predicate.Predicate"><span class="pre">Predicate</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">group_calculator</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Callable</span><span class="p"><span class="pre">[</span></span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#humancompatible.explain.facts.predicate.Predicate" title="humancompatible.explain.facts.predicate.Predicate"><span class="pre">Predicate</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#humancompatible.explain.facts.predicate.Predicate" title="humancompatible.explain.facts.predicate.Predicate"><span class="pre">Predicate</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/humancompatible/explain/facts/metrics.html#calculate_if_subgroup_costs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#humancompatible.explain.facts.metrics.calculate_if_subgroup_costs" title="Link to this definition"></a></dt>
<dd><p>Calculate the costs for each subgroup of a given if-clause.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ifclause</strong> – The if-clause predicate.</p></li>
<li><p><strong>thenclauses</strong> – A dictionary mapping subgroup names to their corresponding coverage and then-clause predicates.</p></li>
<li><p><strong>group_calculator</strong> – The function used to calculate the cost for each subgroup. Defaults to <cite>if_group_cost_min_change_correctness_threshold</cite>.</p></li>
<li><p><strong>**kwargs</strong> – Additional keyword arguments to be passed to the group_calculator function.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A dictionary mapping subgroup names to their calculated costs.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="humancompatible.explain.facts.metrics.if_group_average_recourse_cost_conditional">
<span class="sig-prename descclassname"><span class="pre">humancompatible.explain.facts.metrics.</span></span><span class="sig-name descname"><span class="pre">if_group_average_recourse_cost_conditional</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ifclause</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#humancompatible.explain.facts.predicate.Predicate" title="humancompatible.explain.facts.predicate.Predicate"><span class="pre">Predicate</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">thens</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#humancompatible.explain.facts.predicate.Predicate" title="humancompatible.explain.facts.predicate.Predicate"><span class="pre">Predicate</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">float</span></span></span><a class="reference internal" href="_modules/humancompatible/explain/facts/metrics.html#if_group_average_recourse_cost_conditional"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#humancompatible.explain.facts.metrics.if_group_average_recourse_cost_conditional" title="Link to this definition"></a></dt>
<dd><p>Calculate the average recourse cost conditional on the correctness for a given if-clause and a list of then-clauses.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ifclause</strong> – The if-clause predicate.</p></li>
<li><p><strong>thens</strong> – The list of then-clause predicates with their corresponding correctness and cost values.</p></li>
<li><p><strong>params</strong> – The parameter proxy.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The average recourse cost conditional on the correctness.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="humancompatible.explain.facts.metrics.if_group_cost_max_correctness_cost_budget">
<span class="sig-prename descclassname"><span class="pre">humancompatible.explain.facts.metrics.</span></span><span class="sig-name descname"><span class="pre">if_group_cost_max_correctness_cost_budget</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ifclause</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#humancompatible.explain.facts.predicate.Predicate" title="humancompatible.explain.facts.predicate.Predicate"><span class="pre">Predicate</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">then_corrs_costs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#humancompatible.explain.facts.predicate.Predicate" title="humancompatible.explain.facts.predicate.Predicate"><span class="pre">Predicate</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cost_thres</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.5</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">float</span></span></span><a class="reference internal" href="_modules/humancompatible/explain/facts/metrics.html#if_group_cost_max_correctness_cost_budget"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#humancompatible.explain.facts.metrics.if_group_cost_max_correctness_cost_budget" title="Link to this definition"></a></dt>
<dd><p>Calculate the maximum correctness value for a given if-clause and a list of then-clauses with cost below a threshold.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ifclause</strong> – The if-clause predicate.</p></li>
<li><p><strong>then_corrs_costs</strong> – The list of then-clause predicates with their corresponding correctness and cost values.</p></li>
<li><p><strong>cor_thres</strong> – The correctness threshold.</p></li>
<li><p><strong>cost_thres</strong> – The cost threshold. Only then-clauses with cost below this threshold will be considered.</p></li>
<li><p><strong>params</strong> – The parameter proxy.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The maximum correctness value.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="humancompatible.explain.facts.metrics.if_group_cost_min_change_correctness_threshold">
<span class="sig-prename descclassname"><span class="pre">humancompatible.explain.facts.metrics.</span></span><span class="sig-name descname"><span class="pre">if_group_cost_min_change_correctness_threshold</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ifclause</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#humancompatible.explain.facts.predicate.Predicate" title="humancompatible.explain.facts.predicate.Predicate"><span class="pre">Predicate</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">thens_corrs_costs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#humancompatible.explain.facts.predicate.Predicate" title="humancompatible.explain.facts.predicate.Predicate"><span class="pre">Predicate</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cor_thres</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.5</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">float</span></span></span><a class="reference internal" href="_modules/humancompatible/explain/facts/metrics.html#if_group_cost_min_change_correctness_threshold"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#humancompatible.explain.facts.metrics.if_group_cost_min_change_correctness_threshold" title="Link to this definition"></a></dt>
<dd><p>Calculate the minimum feature change for a given if-clause and a list of then-clauses with a minimum correctness threshold.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ifclause</strong> – The if-clause predicate.</p></li>
<li><p><strong>thenclauses</strong> – The list of then-clause predicates with their corresponding correctness values.</p></li>
<li><p><strong>cor_thres</strong> – The minimum correctness threshold. Only then-clauses with a correctness value greater than or equal to this threshold will be considered.</p></li>
<li><p><strong>params</strong> – The parameter proxy.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The minimum feature change value.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="humancompatible.explain.facts.metrics.if_group_cost_recoursescount_correctness_threshold">
<span class="sig-prename descclassname"><span class="pre">humancompatible.explain.facts.metrics.</span></span><span class="sig-name descname"><span class="pre">if_group_cost_recoursescount_correctness_threshold</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ifclause</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#humancompatible.explain.facts.predicate.Predicate" title="humancompatible.explain.facts.predicate.Predicate"><span class="pre">Predicate</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">thens_corrs_costs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#humancompatible.explain.facts.predicate.Predicate" title="humancompatible.explain.facts.predicate.Predicate"><span class="pre">Predicate</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cor_thres</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.5</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">float</span></span></span><a class="reference internal" href="_modules/humancompatible/explain/facts/metrics.html#if_group_cost_recoursescount_correctness_threshold"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#humancompatible.explain.facts.metrics.if_group_cost_recoursescount_correctness_threshold" title="Link to this definition"></a></dt>
<dd><p>Calculate the negative count of feature changes for a given if-clause and a list of then-clauses with a minimum correctness threshold.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ifclause</strong> – The if-clause predicate.</p></li>
<li><p><strong>thenclauses</strong> – The list of then-clause predicates with their corresponding correctness values.</p></li>
<li><p><strong>cor_thres</strong> – The minimum correctness threshold. Only then-clauses with a correctness value greater than or equal to this threshold will be considered.</p></li>
<li><p><strong>params</strong> – The parameter proxy.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The negative count of feature changes.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="humancompatible.explain.facts.metrics.if_group_maximum_correctness">
<span class="sig-prename descclassname"><span class="pre">humancompatible.explain.facts.metrics.</span></span><span class="sig-name descname"><span class="pre">if_group_maximum_correctness</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ifclause</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#humancompatible.explain.facts.predicate.Predicate" title="humancompatible.explain.facts.predicate.Predicate"><span class="pre">Predicate</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">thens_corrs_costs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#humancompatible.explain.facts.predicate.Predicate" title="humancompatible.explain.facts.predicate.Predicate"><span class="pre">Predicate</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">float</span></span></span><a class="reference internal" href="_modules/humancompatible/explain/facts/metrics.html#if_group_maximum_correctness"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#humancompatible.explain.facts.metrics.if_group_maximum_correctness" title="Link to this definition"></a></dt>
<dd><p>Calculate the maximum correctness value for a given if-clause and a list of then-clauses.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ifclause</strong> – The if-clause predicate.</p></li>
<li><p><strong>then_corrs_costs</strong> – The list of then-clause predicates with their corresponding correctness and cost values.</p></li>
<li><p><strong>params</strong> – The parameter proxy.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The maximum correctness value.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="humancompatible.explain.facts.metrics.incorrectRecoursesIfThen">
<span class="sig-prename descclassname"><span class="pre">humancompatible.explain.facts.metrics.</span></span><span class="sig-name descname"><span class="pre">incorrectRecoursesIfThen</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ifclause</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#humancompatible.explain.facts.predicate.Predicate" title="humancompatible.explain.facts.predicate.Predicate"><span class="pre">Predicate</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">thenclause</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#humancompatible.explain.facts.predicate.Predicate" title="humancompatible.explain.facts.predicate.Predicate"><span class="pre">Predicate</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">X_aff</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">int</span></span></span><a class="reference internal" href="_modules/humancompatible/explain/facts/metrics.html#incorrectRecoursesIfThen"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#humancompatible.explain.facts.metrics.incorrectRecoursesIfThen" title="Link to this definition"></a></dt>
<dd><p>Compute the number of incorrect recourses given an if-then clause.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ifclause</strong> – The if-clause predicate.</p></li>
<li><p><strong>thenclause</strong> – The then-clause predicate.</p></li>
<li><p><strong>X_aff</strong> – The affected DataFrame.</p></li>
<li><p><strong>model</strong> – The ML model under study. Expected to have a “predict” method.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The number of incorrect recourses.</p>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>ValueError</strong> – If there are no covered instances for the given if-clause.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="humancompatible.explain.facts.metrics.max_intergroup_cost_diff">
<span class="sig-prename descclassname"><span class="pre">humancompatible.explain.facts.metrics.</span></span><span class="sig-name descname"><span class="pre">max_intergroup_cost_diff</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ifclause</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#humancompatible.explain.facts.predicate.Predicate" title="humancompatible.explain.facts.predicate.Predicate"><span class="pre">Predicate</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">thenclauses</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#humancompatible.explain.facts.predicate.Predicate" title="humancompatible.explain.facts.predicate.Predicate"><span class="pre">Predicate</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">group_calculator</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Callable</span><span class="p"><span class="pre">[</span></span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#humancompatible.explain.facts.predicate.Predicate" title="humancompatible.explain.facts.predicate.Predicate"><span class="pre">Predicate</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#humancompatible.explain.facts.predicate.Predicate" title="humancompatible.explain.facts.predicate.Predicate"><span class="pre">Predicate</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">float</span></span></span><a class="reference internal" href="_modules/humancompatible/explain/facts/metrics.html#max_intergroup_cost_diff"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#humancompatible.explain.facts.metrics.max_intergroup_cost_diff" title="Link to this definition"></a></dt>
<dd><p>Calculate the maximum difference in subgroup costs for an if-clause and its corresponding then-clauses.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ifclause</strong> – The if-clause predicate.</p></li>
<li><p><strong>thenclauses</strong> – A dictionary mapping subgroup names to their corresponding coverage, then-clause predicates, and costs.</p></li>
<li><p><strong>**kwargs</strong> – Additional keyword arguments to be passed to the calculate_if_subgroup_costs function.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The maximum difference in subgroup costs.</p>
</dd>
</dl>
</dd></dl>

<p>—</p>
</section>
<section id="module-humancompatible.explain.facts.optimization">
<span id="optimization-utilities"></span><h2><a class="toc-backref" href="#id15" role="doc-backlink">Optimization &amp; Utilities</a><a class="headerlink" href="#module-humancompatible.explain.facts.optimization" title="Link to this heading"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="humancompatible.explain.facts.optimization.sort_triples_KStest">
<span class="sig-prename descclassname"><span class="pre">humancompatible.explain.facts.optimization.</span></span><span class="sig-name descname"><span class="pre">sort_triples_KStest</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rulesbyif</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#humancompatible.explain.facts.predicate.Predicate" title="humancompatible.explain.facts.predicate.Predicate"><span class="pre">Predicate</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#humancompatible.explain.facts.predicate.Predicate" title="humancompatible.explain.facts.predicate.Predicate"><span class="pre">Predicate</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">affected_population_sizes</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#humancompatible.explain.facts.predicate.Predicate" title="humancompatible.explain.facts.predicate.Predicate"><span class="pre">Predicate</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#humancompatible.explain.facts.predicate.Predicate" title="humancompatible.explain.facts.predicate.Predicate"><span class="pre">Predicate</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#humancompatible.explain.facts.predicate.Predicate" title="humancompatible.explain.facts.predicate.Predicate"><span class="pre">Predicate</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/humancompatible/explain/facts/optimization.html#sort_triples_KStest"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#humancompatible.explain.facts.optimization.sort_triples_KStest" title="Link to this definition"></a></dt>
<dd><p>Sorts the triples using the Kolmogorov-Smirnov test to measure unfairness.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>rulesbyif</strong> (<em>Dict</em><em>[ </em><a class="reference internal" href="#humancompatible.explain.facts.predicate.Predicate" title="humancompatible.explain.facts.predicate.Predicate"><em>Predicate</em></a><em>, </em><em>Dict</em><em>[</em><em>str</em><em>, </em><em>Tuple</em><em>[</em><em>float</em><em>, </em><em>List</em><em>[</em><em>Tuple</em><em>[</em><a class="reference internal" href="#humancompatible.explain.facts.predicate.Predicate" title="humancompatible.explain.facts.predicate.Predicate"><em>Predicate</em></a><em>, </em><em>float</em><em>, </em><em>float</em><em>]</em><em>]</em><em>]</em><em>] </em><em>]</em>) – Dictionary mapping predicates to a dictionary of group IDs and associated cost, correctness, and predicate tuples.</p></li>
<li><p><strong>affected_population_sizes</strong> (<em>Dict</em><em>[</em><em>str</em><em>, </em><em>int</em><em>]</em>) – Dictionary mapping group IDs to their respective affected population sizes.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A tuple containing a sorted list of triples and a dictionary mapping predicates to their unfairness scores.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Tuple[ List[ Tuple[<a class="reference internal" href="#humancompatible.explain.facts.predicate.Predicate" title="humancompatible.explain.facts.predicate.Predicate">Predicate</a>, Dict[str, Tuple[float, List[Tuple[<a class="reference internal" href="#humancompatible.explain.facts.predicate.Predicate" title="humancompatible.explain.facts.predicate.Predicate">Predicate</a>, float, float]]]]] ], Dict[<a class="reference internal" href="#humancompatible.explain.facts.predicate.Predicate" title="humancompatible.explain.facts.predicate.Predicate">Predicate</a>, float], ]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="humancompatible.explain.facts.optimization.sort_triples_by_max_costdiff">
<span class="sig-prename descclassname"><span class="pre">humancompatible.explain.facts.optimization.</span></span><span class="sig-name descname"><span class="pre">sort_triples_by_max_costdiff</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rulesbyif</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#humancompatible.explain.facts.predicate.Predicate" title="humancompatible.explain.facts.predicate.Predicate"><span class="pre">Predicate</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#humancompatible.explain.facts.predicate.Predicate" title="humancompatible.explain.facts.predicate.Predicate"><span class="pre">Predicate</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ignore_nans</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ignore_infs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">secondary_objectives</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#humancompatible.explain.facts.predicate.Predicate" title="humancompatible.explain.facts.predicate.Predicate"><span class="pre">Predicate</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#humancompatible.explain.facts.predicate.Predicate" title="humancompatible.explain.facts.predicate.Predicate"><span class="pre">Predicate</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/humancompatible/explain/facts/optimization.html#sort_triples_by_max_costdiff"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#humancompatible.explain.facts.optimization.sort_triples_by_max_costdiff" title="Link to this definition"></a></dt>
<dd><p>Sorts the triples by maximum cost difference with generic options to handle NaN, infinity, and secondary objectives.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>rulesbyif</strong> (<em>Dict</em><em>[</em><a class="reference internal" href="#humancompatible.explain.facts.predicate.Predicate" title="humancompatible.explain.facts.predicate.Predicate"><em>Predicate</em></a><em>, </em><em>Dict</em><em>[</em><em>str</em><em>, </em><em>Tuple</em><em>[</em><em>float</em><em>, </em><em>List</em><em>[</em><em>Tuple</em><em>[</em><a class="reference internal" href="#humancompatible.explain.facts.predicate.Predicate" title="humancompatible.explain.facts.predicate.Predicate"><em>Predicate</em></a><em>, </em><em>float</em><em>]</em><em>]</em><em>]</em><em>]</em><em>]</em>) – Dictionary mapping predicates to a dictionary of group IDs and associated cost and predicate pairs.</p></li>
<li><p><strong>ignore_nans</strong> (<em>bool</em><em>, </em><em>optional</em>) – Flag indicating whether to ignore NaN values in the cost difference. Defaults to False.</p></li>
<li><p><strong>ignore_infs</strong> (<em>bool</em><em>, </em><em>optional</em>) – Flag indicating whether to ignore infinity values in the cost difference. Defaults to False.</p></li>
<li><p><strong>secondary_objectives</strong> (<em>List</em><em>[</em><em>str</em><em>]</em><em>, </em><em>optional</em>) – List of secondary objectives to include in the sorting criteria. Defaults to an empty list.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Sorted list of triples with the associated maximum cost difference.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>List[Tuple[<a class="reference internal" href="#humancompatible.explain.facts.predicate.Predicate" title="humancompatible.explain.facts.predicate.Predicate">Predicate</a>, Dict[str, Tuple[float, List[Tuple[<a class="reference internal" href="#humancompatible.explain.facts.predicate.Predicate" title="humancompatible.explain.facts.predicate.Predicate">Predicate</a>, float]]]]]]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function" id="module-humancompatible.explain.facts.utils">
<dt class="sig sig-object py" id="humancompatible.explain.facts.utils.load_model">
<span class="sig-prename descclassname"><span class="pre">humancompatible.explain.facts.utils.</span></span><span class="sig-name descname"><span class="pre">load_model</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">PathLike</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/humancompatible/explain/facts/utils.html#load_model"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#humancompatible.explain.facts.utils.load_model" title="Link to this definition"></a></dt>
<dd><dl class="simple">
<dt>Loads and returns a trained model from the specified file using</dt><dd><p>the pickle library.</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>file</strong> (<em>PathLike</em>) – The path to the file containing the model.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The loaded trained model.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>ModelAPI</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>None</strong> – </p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="humancompatible.explain.facts.utils.load_object">
<span class="sig-prename descclassname"><span class="pre">humancompatible.explain.facts.utils.</span></span><span class="sig-name descname"><span class="pre">load_object</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">PathLike</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">object</span></span></span><a class="reference internal" href="_modules/humancompatible/explain/facts/utils.html#load_object"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#humancompatible.explain.facts.utils.load_object" title="Link to this definition"></a></dt>
<dd><dl class="simple">
<dt>Loads and returns an object from the specified file using the pickle</dt><dd><p>library.</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>file</strong> (<em>PathLike</em>) – The path to the file containing the object.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The loaded object.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>object</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>None</strong> – </p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="humancompatible.explain.facts.utils.load_rules_by_if">
<span class="sig-prename descclassname"><span class="pre">humancompatible.explain.facts.utils.</span></span><span class="sig-name descname"><span class="pre">load_rules_by_if</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">PathLike</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#humancompatible.explain.facts.predicate.Predicate" title="humancompatible.explain.facts.predicate.Predicate"><span class="pre">Predicate</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#humancompatible.explain.facts.predicate.Predicate" title="humancompatible.explain.facts.predicate.Predicate"><span class="pre">Predicate</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/humancompatible/explain/facts/utils.html#load_rules_by_if"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#humancompatible.explain.facts.utils.load_rules_by_if" title="Link to this definition"></a></dt>
<dd><p>Loads and returns a dictionary of rules.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>file</strong> (<em>PathLike</em>) – The path to the file containing the rules.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The dictionary of rules organized by the antecedent Predicate.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Dict[<a class="reference internal" href="#humancompatible.explain.facts.predicate.Predicate" title="humancompatible.explain.facts.predicate.Predicate">Predicate</a>, Dict[str, Tuple[float, List[Tuple[<a class="reference internal" href="#humancompatible.explain.facts.predicate.Predicate" title="humancompatible.explain.facts.predicate.Predicate">Predicate</a>, float]]]]]</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>None</strong> – </p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="humancompatible.explain.facts.utils.load_state">
<span class="sig-prename descclassname"><span class="pre">humancompatible.explain.facts.utils.</span></span><span class="sig-name descname"><span class="pre">load_state</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">PathLike</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">Dict</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">DataFrame</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/humancompatible/explain/facts/utils.html#load_state"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#humancompatible.explain.facts.utils.load_state" title="Link to this definition"></a></dt>
<dd><dl class="simple">
<dt>Loads and returns the rules, Dataframe, and a model from the specified</dt><dd><p>file using the pickle library.</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>file</strong> (<em>PathLike</em>) – The path to the file containing the state.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><dl class="simple">
<dt>A tuple containing the loaded rules,</dt><dd><p>DataFrame, and model.</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Tuple[Dict, DataFrame, ModelAPI]</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>Nones</strong> – </p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="humancompatible.explain.facts.utils.load_test_data_used">
<span class="sig-prename descclassname"><span class="pre">humancompatible.explain.facts.utils.</span></span><span class="sig-name descname"><span class="pre">load_test_data_used</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">PathLike</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataFrame</span></span></span><a class="reference internal" href="_modules/humancompatible/explain/facts/utils.html#load_test_data_used"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#humancompatible.explain.facts.utils.load_test_data_used" title="Link to this definition"></a></dt>
<dd><dl class="simple">
<dt>Loads and returns the test data used from the specified file using the</dt><dd><p>pickle library.</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>file</strong> (<em>PathLike</em>) – The path to the file containing the test data.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The loaded test data.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>DataFrame</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>None</strong> – </p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="humancompatible.explain.facts.utils.save_model">
<span class="sig-prename descclassname"><span class="pre">humancompatible.explain.facts.utils.</span></span><span class="sig-name descname"><span class="pre">save_model</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">PathLike</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/humancompatible/explain/facts/utils.html#save_model"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#humancompatible.explain.facts.utils.save_model" title="Link to this definition"></a></dt>
<dd><dl class="simple">
<dt>Saves the provided model to the specified file using the pickle</dt><dd><p>library.</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>file</strong> (<em>PathLike</em>) – The path to the file where the model will be saved.</p></li>
<li><p><strong>model</strong> (<em>ModelAPI</em>) – The model to be saved.</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>None</strong> – </p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="humancompatible.explain.facts.utils.save_object">
<span class="sig-prename descclassname"><span class="pre">humancompatible.explain.facts.utils.</span></span><span class="sig-name descname"><span class="pre">save_object</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">PathLike</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">o</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">object</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/humancompatible/explain/facts/utils.html#save_object"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#humancompatible.explain.facts.utils.save_object" title="Link to this definition"></a></dt>
<dd><p>Saves the provided object to the specified file using the pickle library.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>file</strong> (<em>PathLike</em>) – The path to the file where the object will be saved.</p></li>
<li><p><strong>o</strong> (<em>object</em>) – The object to be saved.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>None</strong> – </p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="humancompatible.explain.facts.utils.save_rules_by_if">
<span class="sig-prename descclassname"><span class="pre">humancompatible.explain.facts.utils.</span></span><span class="sig-name descname"><span class="pre">save_rules_by_if</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">PathLike</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rules</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#humancompatible.explain.facts.predicate.Predicate" title="humancompatible.explain.facts.predicate.Predicate"><span class="pre">Predicate</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#humancompatible.explain.facts.predicate.Predicate" title="humancompatible.explain.facts.predicate.Predicate"><span class="pre">Predicate</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/humancompatible/explain/facts/utils.html#save_rules_by_if"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#humancompatible.explain.facts.utils.save_rules_by_if" title="Link to this definition"></a></dt>
<dd><dl class="simple">
<dt>Saves the provided rules dictionary to the specified file using the</dt><dd><p>pickle library.</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>file</strong> (<em>PathLike</em>) – The path to the file where the rules will be saved.</p></li>
<li><p><strong>rules</strong> (<em>Dict</em><em>[</em><a class="reference internal" href="#humancompatible.explain.facts.predicate.Predicate" title="humancompatible.explain.facts.predicate.Predicate"><em>Predicate</em></a><em>, </em><em>Dict</em><em>[</em><em>str</em><em>, </em><em>Tuple</em><em>[</em><em>float</em><em>, </em><em>List</em><em>[</em><em>Tuple</em><em>[</em><a class="reference internal" href="#humancompatible.explain.facts.predicate.Predicate" title="humancompatible.explain.facts.predicate.Predicate"><em>Predicate</em></a><em>, </em><em>float</em><em>]</em><em>]</em><em>]</em><em>]</em><em>]</em>) – The dictionary of rules</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>None</strong> – </p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="humancompatible.explain.facts.utils.save_state">
<span class="sig-prename descclassname"><span class="pre">humancompatible.explain.facts.utils.</span></span><span class="sig-name descname"><span class="pre">save_state</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">PathLike</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rules</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">X</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/humancompatible/explain/facts/utils.html#save_state"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#humancompatible.explain.facts.utils.save_state" title="Link to this definition"></a></dt>
<dd><dl class="simple">
<dt>Saves the rules, dataframe, model to the specified file using the pickle</dt><dd><p>library.</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>file</strong> (<em>PathLike</em>) – The path to the file where the data will be saved.</p></li>
<li><p><strong>rules</strong> (<em>Dict</em>) – The rules dictionary to be saved.</p></li>
<li><p><strong>X</strong> (<em>DataFrame</em>) – The DataFrame to be saved.</p></li>
<li><p><strong>model</strong> (<em>ModelAPI</em>) – The model to be saved.</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>None</strong> – </p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="humancompatible.explain.facts.utils.save_test_data_used">
<span class="sig-prename descclassname"><span class="pre">humancompatible.explain.facts.utils.</span></span><span class="sig-name descname"><span class="pre">save_test_data_used</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">PathLike</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">X</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/humancompatible/explain/facts/utils.html#save_test_data_used"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#humancompatible.explain.facts.utils.save_test_data_used" title="Link to this definition"></a></dt>
<dd><dl class="simple">
<dt>Saves the provided test data to the specified file using the pickle</dt><dd><p>library.</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>file</strong> (<em>PathLike</em>) – The path to the file where the test data will
be saved.</p></li>
<li><p><strong>X</strong> (<em>DataFrame</em>) – The test data to be saved.</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>None</strong> – </p>
</dd>
</dl>
</dd></dl>

<dl class="py function" id="module-humancompatible.explain.facts.misc">
<dt class="sig sig-object py" id="humancompatible.explain.facts.misc.aff_intersection_version_2">
<span class="sig-prename descclassname"><span class="pre">humancompatible.explain.facts.misc.</span></span><span class="sig-name descname"><span class="pre">aff_intersection_version_2</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">RLs_and_supports</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">subgroups</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/humancompatible/explain/facts/misc.html#aff_intersection_version_2"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#humancompatible.explain.facts.misc.aff_intersection_version_2" title="Link to this definition"></a></dt>
<dd><p>Compute the intersection of multiple sets of predicates and their corresponding supports.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>RLs_and_supports</strong> (<em>Dict</em><em>[</em><em>str</em><em>, </em><em>List</em><em>[</em><em>Tuple</em><em>[</em><em>Dict</em><em>[</em><em>str</em><em>, </em><em>any</em><em>]</em><em>, </em><em>float</em><em>]</em><em>]</em><em>]</em>) – Dictionary of predicates and their supports for each subgroup.</p></li>
<li><p><strong>subgroups</strong> (<em>List</em><em>[</em><em>str</em><em>]</em>) – List of subgroup names.</p></li>
<li><p><strong>verbose</strong> (<em>bool</em>) – whether to print progress bar. Defaults to True.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>List of tuples containing the intersected predicates and their supports.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>List[Tuple[<a class="reference internal" href="#humancompatible.explain.facts.predicate.Predicate" title="humancompatible.explain.facts.predicate.Predicate">Predicate</a>, Dict[str, float]]]</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> – If there are fewer than 2 subgroups.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="humancompatible.explain.facts.misc.affected_unaffected_split">
<span class="sig-prename descclassname"><span class="pre">humancompatible.explain.facts.misc.</span></span><span class="sig-name descname"><span class="pre">affected_unaffected_split</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">X</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">DataFrame</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">DataFrame</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/humancompatible/explain/facts/misc.html#affected_unaffected_split"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#humancompatible.explain.facts.misc.affected_unaffected_split" title="Link to this definition"></a></dt>
<dd><p>Split the input data into affected and unaffected individuals.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>X</strong> (<em>pd.DataFrame</em>) – The input data.</p></li>
<li><p><strong>model</strong> (<em>ModelAPI</em>) – The model used for predictions.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A tuple containing the affected individuals and unaffected individuals.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Tuple[pd.DataFrame, pd.DataFrame]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="humancompatible.explain.facts.misc.calc_costs">
<span class="sig-prename descclassname"><span class="pre">humancompatible.explain.facts.misc.</span></span><span class="sig-name descname"><span class="pre">calc_costs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">rules:</span> <span class="pre">~typing.Dict[~humancompatible.explain.facts.predicate.Predicate,</span> <span class="pre">~typing.Dict[str,</span> <span class="pre">~typing.Tuple[float,</span> <span class="pre">~typing.List[~typing.Tuple[~humancompatible.explain.facts.predicate.Predicate,</span> <span class="pre">float]]]]],</span> <span class="pre">params:</span> <span class="pre">~humancompatible.explain.facts.parameters.ParameterProxy</span> <span class="pre">=</span> <span class="pre">ParameterProxy(featureChanges=defaultdict(&lt;function</span> <span class="pre">make_default_featureChanges.&lt;locals&gt;.&lt;lambda&gt;&gt;,</span> <span class="pre">{}))</span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#humancompatible.explain.facts.predicate.Predicate" title="humancompatible.explain.facts.predicate.Predicate"><span class="pre">Predicate</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#humancompatible.explain.facts.predicate.Predicate" title="humancompatible.explain.facts.predicate.Predicate"><span class="pre">Predicate</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/humancompatible/explain/facts/misc.html#calc_costs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#humancompatible.explain.facts.misc.calc_costs" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="humancompatible.explain.facts.misc.calculate_correctnesses">
<span class="sig-prename descclassname"><span class="pre">humancompatible.explain.facts.misc.</span></span><span class="sig-name descname"><span class="pre">calculate_correctnesses</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ifthens_withsupp</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#humancompatible.explain.facts.predicate.Predicate" title="humancompatible.explain.facts.predicate.Predicate"><span class="pre">Predicate</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="#humancompatible.explain.facts.predicate.Predicate" title="humancompatible.explain.facts.predicate.Predicate"><span class="pre">Predicate</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">affected_by_subgroup</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">DataFrame</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sensitive_attribute</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#humancompatible.explain.facts.predicate.Predicate" title="humancompatible.explain.facts.predicate.Predicate"><span class="pre">Predicate</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="#humancompatible.explain.facts.predicate.Predicate" title="humancompatible.explain.facts.predicate.Predicate"><span class="pre">Predicate</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/humancompatible/explain/facts/misc.html#calculate_correctnesses"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#humancompatible.explain.facts.misc.calculate_correctnesses" title="Link to this definition"></a></dt>
<dd><p>Calculate the correctness of recourse actions for each subgroup in a list of if-then rules.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ifthens_withsupp</strong> (<em>List</em><em>[</em><em>Tuple</em><em>[</em><a class="reference internal" href="#humancompatible.explain.facts.predicate.Predicate" title="humancompatible.explain.facts.predicate.Predicate"><em>Predicate</em></a><em>, </em><a class="reference internal" href="#humancompatible.explain.facts.predicate.Predicate" title="humancompatible.explain.facts.predicate.Predicate"><em>Predicate</em></a><em>, </em><em>Dict</em><em>[</em><em>str</em><em>, </em><em>float</em><em>]</em><em>]</em><em>]</em>) – List of if-then rules with their support values.</p></li>
<li><p><strong>affected_by_subgroup</strong> (<em>Dict</em><em>[</em><em>str</em><em>, </em><em>DataFrame</em><em>]</em>) – Dictionary where keys are subgroup names and values are DataFrames representing affected individuals in each subgroup.</p></li>
<li><p><strong>sensitive_attribute</strong> (<em>str</em>) – Name of the sensitive attribute in the dataset.</p></li>
<li><p><strong>model</strong> (<em>ModelAPI</em>) – The model used for making predictions.</p></li>
<li><p><strong>verbose</strong> (<em>bool</em>) – whether to print progress bar. Defaults to True.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>List of tuples containing the if-then rule, its support values, and the correctness of recourse actions for each subgroup.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>List[Tuple[<a class="reference internal" href="#humancompatible.explain.facts.predicate.Predicate" title="humancompatible.explain.facts.predicate.Predicate">Predicate</a>, <a class="reference internal" href="#humancompatible.explain.facts.predicate.Predicate" title="humancompatible.explain.facts.predicate.Predicate">Predicate</a>, Dict[str, float], Dict[str, float]]]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="humancompatible.explain.facts.misc.cum_corr_costs">
<span class="sig-prename descclassname"><span class="pre">humancompatible.explain.facts.misc.</span></span><span class="sig-name descname"><span class="pre">cum_corr_costs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">ifclause:</span> <span class="pre">~humancompatible.explain.facts.predicate.Predicate,</span> <span class="pre">thenclauses:</span> <span class="pre">~typing.List[~typing.Tuple[~humancompatible.explain.facts.predicate.Predicate,</span> <span class="pre">float]],</span> <span class="pre">X:</span> <span class="pre">~pandas.core.frame.DataFrame,</span> <span class="pre">model,</span> <span class="pre">params:</span> <span class="pre">~humancompatible.explain.facts.parameters.ParameterProxy</span> <span class="pre">=</span> <span class="pre">ParameterProxy(featureChanges=defaultdict(&lt;function</span> <span class="pre">make_default_featureChanges.&lt;locals&gt;.&lt;lambda&gt;&gt;,</span> <span class="pre">{}))</span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#humancompatible.explain.facts.predicate.Predicate" title="humancompatible.explain.facts.predicate.Predicate"><span class="pre">Predicate</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/humancompatible/explain/facts/misc.html#cum_corr_costs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#humancompatible.explain.facts.misc.cum_corr_costs" title="Link to this definition"></a></dt>
<dd><p>Calculate cumulative correctness and costs for the given if-then rules.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ifclause</strong> – The if-clause predicate.</p></li>
<li><p><strong>thenclauses</strong> – A list of tuples containing then-clause predicates and their
corresponding correctness values.</p></li>
<li><p><strong>X</strong> – The DataFrame containing the data.</p></li>
<li><p><strong>model</strong> – The model API used for prediction.</p></li>
<li><p><strong>params</strong> – Optional parameter proxy (default: ParameterProxy()).</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A list of tuples containing the updated then-clause predicates, cumulative
correctness values, and costs.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="humancompatible.explain.facts.misc.cum_corr_costs_all">
<span class="sig-prename descclassname"><span class="pre">humancompatible.explain.facts.misc.</span></span><span class="sig-name descname"><span class="pre">cum_corr_costs_all</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">rulesbyif:</span> <span class="pre">~typing.Dict[~humancompatible.explain.facts.predicate.Predicate,</span> <span class="pre">~typing.Dict[str,</span> <span class="pre">~typing.Tuple[float,</span> <span class="pre">~typing.List[~typing.Tuple[~humancompatible.explain.facts.predicate.Predicate,</span> <span class="pre">float]]]]],</span> <span class="pre">X:</span> <span class="pre">~pandas.core.frame.DataFrame,</span> <span class="pre">model,</span> <span class="pre">sensitive_attribute:</span> <span class="pre">str,</span> <span class="pre">params:</span> <span class="pre">~humancompatible.explain.facts.parameters.ParameterProxy</span> <span class="pre">=</span> <span class="pre">ParameterProxy(featureChanges=defaultdict(&lt;function</span> <span class="pre">make_default_featureChanges.&lt;locals&gt;.&lt;lambda&gt;&gt;,</span> <span class="pre">{})),</span> <span class="pre">verbose:</span> <span class="pre">bool</span> <span class="pre">=</span> <span class="pre">True</span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#humancompatible.explain.facts.predicate.Predicate" title="humancompatible.explain.facts.predicate.Predicate"><span class="pre">Predicate</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#humancompatible.explain.facts.predicate.Predicate" title="humancompatible.explain.facts.predicate.Predicate"><span class="pre">Predicate</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/humancompatible/explain/facts/misc.html#cum_corr_costs_all"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#humancompatible.explain.facts.misc.cum_corr_costs_all" title="Link to this definition"></a></dt>
<dd><p>Calculate cumulative correctness and costs for all if-then rules.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>rulesbyif</strong> – A dictionary containing if-clause predicates as keys and a nested
dictionary as values. The nested dictionary contains subgroup names as
keys, and tuples of coverage and a list of then-clause predicates with
their corresponding correctness values as values.</p></li>
<li><p><strong>X</strong> – The DataFrame containing the data.</p></li>
<li><p><strong>model</strong> – The model API used for prediction.</p></li>
<li><p><strong>sensitive_attribute</strong> – The name of the sensitive attribute in the data.</p></li>
<li><p><strong>params</strong> – Optional parameter proxy (default: ParameterProxy()).</p></li>
<li><p><strong>verbose</strong> – whether to print intermediate messages and progress bar. Defaults to True.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A dictionary with if-clause predicates as keys. Each if-clause predicate
maps to a nested dictionary where subgroup names are the keys, and tuples
of coverage and a list of updated then-clause predicates with their
cumulative correctness values and costs are the values.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="humancompatible.explain.facts.misc.cum_corr_costs_all_minimal">
<span class="sig-prename descclassname"><span class="pre">humancompatible.explain.facts.misc.</span></span><span class="sig-name descname"><span class="pre">cum_corr_costs_all_minimal</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">rulesbyif:</span> <span class="pre">~typing.Dict[~humancompatible.explain.facts.predicate.Predicate,</span> <span class="pre">~typing.Dict[str,</span> <span class="pre">~typing.Tuple[float,</span> <span class="pre">~typing.List[~typing.Tuple[~humancompatible.explain.facts.predicate.Predicate,</span> <span class="pre">float]]]]],</span> <span class="pre">X:</span> <span class="pre">~pandas.core.frame.DataFrame,</span> <span class="pre">model,</span> <span class="pre">sensitive_attribute:</span> <span class="pre">str,</span> <span class="pre">params:</span> <span class="pre">~humancompatible.explain.facts.parameters.ParameterProxy</span> <span class="pre">=</span> <span class="pre">ParameterProxy(featureChanges=defaultdict(&lt;function</span> <span class="pre">make_default_featureChanges.&lt;locals&gt;.&lt;lambda&gt;&gt;,</span> <span class="pre">{}))</span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#humancompatible.explain.facts.predicate.Predicate" title="humancompatible.explain.facts.predicate.Predicate"><span class="pre">Predicate</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/humancompatible/explain/facts/misc.html#cum_corr_costs_all_minimal"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#humancompatible.explain.facts.misc.cum_corr_costs_all_minimal" title="Link to this definition"></a></dt>
<dd><p>Compute cumulative correctness and cost for all rules.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>rulesbyif</strong> – A dictionary containing if-clause predicates as keys and a nested
dictionary as values. The nested dictionary contains subgroup names as
keys, and tuples of coverage and a list of then-clause predicates with
their corresponding correctness as values.</p></li>
<li><p><strong>X</strong> – The input DataFrame.</p></li>
<li><p><strong>model</strong> – The model API.</p></li>
<li><p><strong>sensitive_attribute</strong> – The name of the sensitive attribute in the DataFrame.</p></li>
<li><p><strong>params</strong> – Optional parameter proxy (default: ParameterProxy()).</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A dictionary containing if-clause predicates as keys and a nested dictionary as
values. The nested dictionary contains subgroup names as keys, and a list of
tuples representing the cumulative correctness and cost of the then-clauses.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="humancompatible.explain.facts.misc.freqitemsets_with_supports">
<span class="sig-prename descclassname"><span class="pre">humancompatible.explain.facts.misc.</span></span><span class="sig-name descname"><span class="pre">freqitemsets_with_supports</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">X</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_support</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.01</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#humancompatible.explain.facts.predicate.Predicate" title="humancompatible.explain.facts.predicate.Predicate"><span class="pre">Predicate</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/humancompatible/explain/facts/misc.html#freqitemsets_with_supports"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#humancompatible.explain.facts.misc.freqitemsets_with_supports" title="Link to this definition"></a></dt>
<dd><p>Calculate frequent itemsets with their support values.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>X</strong> (<em>DataFrame</em>) – The input data.</p></li>
<li><p><strong>min_support</strong> (<em>float</em><em>, </em><em>optional</em>) – The minimum support threshold. Defaults to 0.01.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A tuple containing the list of frequent itemsets and their support values.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Tuple[List[<a class="reference internal" href="#humancompatible.explain.facts.predicate.Predicate" title="humancompatible.explain.facts.predicate.Predicate">Predicate</a>], List[float]]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="humancompatible.explain.facts.misc.rules2rulesbyif">
<span class="sig-prename descclassname"><span class="pre">humancompatible.explain.facts.misc.</span></span><span class="sig-name descname"><span class="pre">rules2rulesbyif</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rules</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#humancompatible.explain.facts.predicate.Predicate" title="humancompatible.explain.facts.predicate.Predicate"><span class="pre">Predicate</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="#humancompatible.explain.facts.predicate.Predicate" title="humancompatible.explain.facts.predicate.Predicate"><span class="pre">Predicate</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#humancompatible.explain.facts.predicate.Predicate" title="humancompatible.explain.facts.predicate.Predicate"><span class="pre">Predicate</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#humancompatible.explain.facts.predicate.Predicate" title="humancompatible.explain.facts.predicate.Predicate"><span class="pre">Predicate</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/humancompatible/explain/facts/misc.html#rules2rulesbyif"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#humancompatible.explain.facts.misc.rules2rulesbyif" title="Link to this definition"></a></dt>
<dd><p>Group rules based on the If clauses instead of protected subgroups.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>rules</strong> (<em>List</em><em>[</em><em>Tuple</em><em>[</em><a class="reference internal" href="#humancompatible.explain.facts.predicate.Predicate" title="humancompatible.explain.facts.predicate.Predicate"><em>Predicate</em></a><em>, </em><a class="reference internal" href="#humancompatible.explain.facts.predicate.Predicate" title="humancompatible.explain.facts.predicate.Predicate"><em>Predicate</em></a><em>, </em><em>Dict</em><em>[</em><em>str</em><em>, </em><em>float</em><em>]</em><em>, </em><em>Dict</em><em>[</em><em>str</em><em>, </em><em>float</em><em>]</em><em>]</em><em>]</em>) – List of tuples containing the if-then rules, coverage metrics, and correctness metrics.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Dictionary containing the rules grouped by the If clauses.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Dict[<a class="reference internal" href="#humancompatible.explain.facts.predicate.Predicate" title="humancompatible.explain.facts.predicate.Predicate">Predicate</a>, Dict[str, Tuple[float, List[Tuple[<a class="reference internal" href="#humancompatible.explain.facts.predicate.Predicate" title="humancompatible.explain.facts.predicate.Predicate">Predicate</a>, float]]]]]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="humancompatible.explain.facts.misc.rulesbyif2rules">
<span class="sig-prename descclassname"><span class="pre">humancompatible.explain.facts.misc.</span></span><span class="sig-name descname"><span class="pre">rulesbyif2rules</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rules_by_if</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#humancompatible.explain.facts.predicate.Predicate" title="humancompatible.explain.facts.predicate.Predicate"><span class="pre">Predicate</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#humancompatible.explain.facts.predicate.Predicate" title="humancompatible.explain.facts.predicate.Predicate"><span class="pre">Predicate</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#humancompatible.explain.facts.predicate.Predicate" title="humancompatible.explain.facts.predicate.Predicate"><span class="pre">Predicate</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="#humancompatible.explain.facts.predicate.Predicate" title="humancompatible.explain.facts.predicate.Predicate"><span class="pre">Predicate</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/humancompatible/explain/facts/misc.html#rulesbyif2rules"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#humancompatible.explain.facts.misc.rulesbyif2rules" title="Link to this definition"></a></dt>
<dd><p>Convert rules grouped by If clauses to rules.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>rules_by_if</strong> (<em>Dict</em><em>[</em><a class="reference internal" href="#humancompatible.explain.facts.predicate.Predicate" title="humancompatible.explain.facts.predicate.Predicate"><em>Predicate</em></a><em>, </em><em>Dict</em><em>[</em><em>str</em><em>, </em><em>Tuple</em><em>[</em><em>float</em><em>, </em><em>List</em><em>[</em><em>Tuple</em><em>[</em><a class="reference internal" href="#humancompatible.explain.facts.predicate.Predicate" title="humancompatible.explain.facts.predicate.Predicate"><em>Predicate</em></a><em>, </em><em>float</em><em>]</em><em>]</em><em>]</em><em>]</em><em>]</em>) – Dictionary containing rules grouped by the If clauses.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>List of tuples containing the if-then rules, coverage metrics, and correctness metrics.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>List[Tuple[<a class="reference internal" href="#humancompatible.explain.facts.predicate.Predicate" title="humancompatible.explain.facts.predicate.Predicate">Predicate</a>, <a class="reference internal" href="#humancompatible.explain.facts.predicate.Predicate" title="humancompatible.explain.facts.predicate.Predicate">Predicate</a>, Dict[str, float], Dict[str, float]]]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="humancompatible.explain.facts.misc.select_rules_subset">
<span class="sig-prename descclassname"><span class="pre">humancompatible.explain.facts.misc.</span></span><span class="sig-name descname"><span class="pre">select_rules_subset</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rulesbyif</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#humancompatible.explain.facts.predicate.Predicate" title="humancompatible.explain.facts.predicate.Predicate"><span class="pre">Predicate</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#humancompatible.explain.facts.predicate.Predicate" title="humancompatible.explain.facts.predicate.Predicate"><span class="pre">Predicate</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metric</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'equal-effectiveness'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sort_strategy</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'max-cost-diff-decr'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">top_count</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">10</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filter_sequence</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cor_threshold</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cost_threshold</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">secondary_sorting_objectives</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">[]</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#humancompatible.explain.facts.predicate.Predicate" title="humancompatible.explain.facts.predicate.Predicate"><span class="pre">Predicate</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#humancompatible.explain.facts.predicate.Predicate" title="humancompatible.explain.facts.predicate.Predicate"><span class="pre">Predicate</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#humancompatible.explain.facts.predicate.Predicate" title="humancompatible.explain.facts.predicate.Predicate"><span class="pre">Predicate</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/humancompatible/explain/facts/misc.html#select_rules_subset"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#humancompatible.explain.facts.misc.select_rules_subset" title="Link to this definition"></a></dt>
<dd><p>Selects a subset of rules.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>rulesbyif</strong> – A dictionary mapping predicates to a dictionary of tuples containing
cost, correctness, and cumulative cost values for each rule.</p></li>
<li><p><strong>metric</strong> – The metric to use for sorting the rules (default: “equal-effectiveness”).</p></li>
<li><p><strong>sort_strategy</strong> – The strategy to use for sorting the rules (default: “abs-diff-decr”).</p></li>
<li><p><strong>top_count</strong> – The number of top rules to select (default: 10).</p></li>
<li><p><strong>filter_sequence</strong> – A list of filtering criteria to apply to the rules (default: []).</p></li>
<li><p><strong>cor_threshold</strong> – The correctness threshold for filtering rules (default: 0.5).</p></li>
<li><p><strong>cost_threshold</strong> – The cost threshold for filtering rules (default: 0.5).</p></li>
<li><p><strong>c_inf</strong> – The coefficient for infinity value in fairness-of-mean-recourse-cinf metric
(default: 2).</p></li>
<li><p><strong>secondary_sorting_objectives</strong> – A list of secondary objectives for sorting the rules
(default: []).</p></li>
<li><p><strong>params</strong> – A parameter proxy object (default: ParameterProxy()).</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A tuple containing the selected subset of rules and the costs of the then-blocks
of the top rules.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="humancompatible.explain.facts.misc.select_rules_subset_KStest">
<span class="sig-prename descclassname"><span class="pre">humancompatible.explain.facts.misc.</span></span><span class="sig-name descname"><span class="pre">select_rules_subset_KStest</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rulesbyif</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#humancompatible.explain.facts.predicate.Predicate" title="humancompatible.explain.facts.predicate.Predicate"><span class="pre">Predicate</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#humancompatible.explain.facts.predicate.Predicate" title="humancompatible.explain.facts.predicate.Predicate"><span class="pre">Predicate</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">affected_population_sizes</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">top_count</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">10</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filter_contained</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#humancompatible.explain.facts.predicate.Predicate" title="humancompatible.explain.facts.predicate.Predicate"><span class="pre">Predicate</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#humancompatible.explain.facts.predicate.Predicate" title="humancompatible.explain.facts.predicate.Predicate"><span class="pre">Predicate</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#humancompatible.explain.facts.predicate.Predicate" title="humancompatible.explain.facts.predicate.Predicate"><span class="pre">Predicate</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/humancompatible/explain/facts/misc.html#select_rules_subset_KStest"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#humancompatible.explain.facts.misc.select_rules_subset_KStest" title="Link to this definition"></a></dt>
<dd><p>Selects a subset of rules based on the Kolmogorov-Smirnov (KS) test metric.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>rulesbyif</strong> – A dictionary mapping predicates to a dictionary of tuples containing
cost, correctness, and cumulative cost values for each rule.</p></li>
<li><p><strong>affected_population_sizes</strong> – A dictionary mapping subgroup names to their sizes.</p></li>
<li><p><strong>top_count</strong> – The number of top rules to select (default: 10).</p></li>
<li><p><strong>filter_contained</strong> – Whether to filter contained rules (default: False).</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A tuple containing the selected subset of rules and the unfairness values
calculated.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="humancompatible.explain.facts.misc.valid_ifthens">
<span class="sig-prename descclassname"><span class="pre">humancompatible.explain.facts.misc.</span></span><span class="sig-name descname"><span class="pre">valid_ifthens</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">X</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sensitive_attribute</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">freqitem_minsupp</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.01</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">missing_subgroup_val</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'N/A'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">drop_infeasible</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">feats_not_allowed_to_change</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#humancompatible.explain.facts.predicate.Predicate" title="humancompatible.explain.facts.predicate.Predicate"><span class="pre">Predicate</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="#humancompatible.explain.facts.predicate.Predicate" title="humancompatible.explain.facts.predicate.Predicate"><span class="pre">Predicate</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/humancompatible/explain/facts/misc.html#valid_ifthens"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#humancompatible.explain.facts.misc.valid_ifthens" title="Link to this definition"></a></dt>
<dd><p>Compute valid if-then rules along with their coverage and correctness metrics.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>X</strong> (<em>DataFrame</em>) – Input data.</p></li>
<li><p><strong>model</strong> (<em>ModelAPI</em>) – The model used for predictions.</p></li>
<li><p><strong>sensitive_attribute</strong> (<em>str</em>) – The name of the sensitive attribute column in the dataset.</p></li>
<li><p><strong>freqitem_minsupp</strong> (<em>float</em>) – Minimum support threshold for frequent itemset mining.</p></li>
<li><p><strong>missing_subgroup_val</strong> (<em>str</em>) – Value indicating missing or unknown subgroup.</p></li>
<li><p><strong>drop_infeasible</strong> (<em>bool</em>) – Whether to drop infeasible if-then rules.</p></li>
<li><p><strong>feats_not_allowed_to_change</strong> (<em>list</em><em>[</em><em>str</em><em>]</em>) – optionally, the user can provide some features which are not allowed to change at all (e.g. sex).</p></li>
<li><p><strong>verbose</strong> (<em>bool</em>) – whether to print intermediate messages and progress bar. Defaults to True.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>List of tuples containing the valid if-then rules, coverage metrics, and correctness metrics.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>List[Tuple[<a class="reference internal" href="#humancompatible.explain.facts.predicate.Predicate" title="humancompatible.explain.facts.predicate.Predicate">Predicate</a>, <a class="reference internal" href="#humancompatible.explain.facts.predicate.Predicate" title="humancompatible.explain.facts.predicate.Predicate">Predicate</a>, Dict[str, float], Dict[str, float]]]</p>
</dd>
</dl>
</dd></dl>

<dl class="py class" id="module-humancompatible.explain.facts.parameters">
<dt class="sig sig-object py" id="humancompatible.explain.facts.parameters.ParameterProxy">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">humancompatible.explain.facts.parameters.</span></span><span class="sig-name descname"><span class="pre">ParameterProxy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">featureChanges:</span> <span class="pre">~typing.Dict[str,</span> <span class="pre">~typing.Callable[[~typing.Any,</span> <span class="pre">~typing.Any],</span> <span class="pre">float]]</span> <span class="pre">=</span> <span class="pre">&lt;factory&gt;</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/humancompatible/explain/facts/parameters.html#ParameterProxy"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#humancompatible.explain.facts.parameters.ParameterProxy" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Proxy class for managing recourse parameters.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="humancompatible.explain.facts.parameters.ParameterProxy.featureChanges">
<span class="sig-name descname"><span class="pre">featureChanges</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Callable</span><span class="p"><span class="pre">[</span></span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#humancompatible.explain.facts.parameters.ParameterProxy.featureChanges" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="humancompatible.explain.facts.parameters.ParameterProxy.setFeatureChange">
<span class="sig-name descname"><span class="pre">setFeatureChange</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fc</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/humancompatible/explain/facts/parameters.html#ParameterProxy.setFeatureChange"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#humancompatible.explain.facts.parameters.ParameterProxy.setFeatureChange" title="Link to this definition"></a></dt>
<dd><p>Set the feature changes.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>fc</strong> (<em>Dict</em>) – A dictionary mapping feature names to their change functions.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="humancompatible.explain.facts.parameters.default_change">
<span class="sig-prename descclassname"><span class="pre">humancompatible.explain.facts.parameters.</span></span><span class="sig-name descname"><span class="pre">default_change</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">v1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">v2</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">float</span></span></span><a class="reference internal" href="_modules/humancompatible/explain/facts/parameters.html#default_change"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#humancompatible.explain.facts.parameters.default_change" title="Link to this definition"></a></dt>
<dd><p>Compares two values and returns 0 if they are equal, and 1 if they are different.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>v1</strong> – The first value to be compared.</p></li>
<li><p><strong>v2</strong> – The second value to be compared.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>0 if the values are equal, 1 if the values are diff</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="humancompatible.explain.facts.parameters.feature_change_builder">
<span class="sig-prename descclassname"><span class="pre">humancompatible.explain.facts.parameters.</span></span><span class="sig-name descname"><span class="pre">feature_change_builder</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">X</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_cols</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cate_cols</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ord_cols</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">feature_weights</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_normalization</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">feats_to_normalize</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Callable</span><span class="p"><span class="pre">[</span></span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/humancompatible/explain/facts/parameters.html#feature_change_builder"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#humancompatible.explain.facts.parameters.feature_change_builder" title="Link to this definition"></a></dt>
<dd><p>Constructs a dictionary of feature change functions based on the input parameters.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>X</strong> (<em>DataFrame</em>) – The input DataFrame containing the data.</p></li>
<li><p><strong>num_cols</strong> (<em>List</em><em>[</em><em>str</em><em>]</em>) – A list of column names representing the numeric features.</p></li>
<li><p><strong>cate_cols</strong> (<em>List</em><em>[</em><em>str</em><em>]</em>) – A list of column names representing the categorical features.</p></li>
<li><p><strong>ord_cols</strong> (<em>List</em><em>[</em><em>str</em><em>]</em>) – _description_</p></li>
<li><p><strong>feature_weights</strong> (<em>Dict</em><em>[</em><em>str</em><em>, </em><em>int</em><em>]</em>) – A dictionary mapping feature names to their corresponding weights.</p></li>
<li><p><strong>num_normalization</strong> (<em>bool</em><em>, </em><em>optional</em>) – A flag indicating whether to normalize numeric features. Default is False.</p></li>
<li><p><strong>feats_to_normalize</strong> (<em>Optional</em><em>[</em><em>List</em><em>[</em><em>str</em><em>]</em><em>]</em><em>, </em><em>optional</em>) – A list of column names specifying the numeric features to be normalized.
If None, all numeric features will be normalized. Default is None.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A dictionary mapping feature names to the corresponding
feature change functions.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Dict[str, Callable[[Any, Any], int]]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="humancompatible.explain.facts.parameters.make_default_featureChanges">
<span class="sig-prename descclassname"><span class="pre">humancompatible.explain.facts.parameters.</span></span><span class="sig-name descname"><span class="pre">make_default_featureChanges</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/humancompatible/explain/facts/parameters.html#make_default_featureChanges"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#humancompatible.explain.facts.parameters.make_default_featureChanges" title="Link to this definition"></a></dt>
<dd><p>Creates a defaultdict with a default value of the default_change function.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A defaultdict with default_change as the default value.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>defaultdict</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="humancompatible.explain.facts.parameters.naive_feature_change_builder">
<span class="sig-prename descclassname"><span class="pre">humancompatible.explain.facts.parameters.</span></span><span class="sig-name descname"><span class="pre">naive_feature_change_builder</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">num_cols</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cate_cols</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">feature_weights</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Callable</span><span class="p"><span class="pre">[</span></span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/humancompatible/explain/facts/parameters.html#naive_feature_change_builder"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#humancompatible.explain.facts.parameters.naive_feature_change_builder" title="Link to this definition"></a></dt>
<dd><p>Builds a dictionary of feature change functions based on the provided lists of numerical
and categorical columns, along with the weights for each feature.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>num_cols</strong> (<em>List</em><em>[</em><em>str</em><em>]</em>) – List of numerical column names.</p></li>
<li><p><strong>cate_cols</strong> (<em>List</em><em>[</em><em>str</em><em>]</em>) – List of categorical column names.</p></li>
<li><p><strong>feature_weights</strong> (<em>Dict</em><em>[</em><em>str</em><em>, </em><em>int</em><em>]</em>) – Dictionary mapping feature names to their weights.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Dictionary of feature change functions.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Dict[str, Callable[[Any, Any], int]]</p>
</dd>
</dl>
</dd></dl>

</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="index.html" class="btn btn-neutral float-left" title="HumanCompatible.Explain Documentation" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="glance.html" class="btn btn-neutral float-right" title="GLANCE: Global Actions in a Nutshell for Counterfactual Explainability" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025, AutoFair Project.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>